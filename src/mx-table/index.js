define("mx-table/index",["magix","$"],function(e,t,r){var i=e("magix"),a=e("$"),f=/width\s*:\s*(\d+)px/;i.applyStyle("F",".f_{width:100%;overflow:auto;border:1px solid #e6e6e6;position:relative}.fa,.fb thead,.fc{background-color:#fff}.fa,.fc{position:absolute;top:1px;width:auto;z-index:1}.fd{border:none}.fa{left:1px}.fc{right:1px}.fe,.fe thead{-webkit-box-shadow:6px 0 6px -4px rgba(0,0,0,.2);box-shadow:6px 0 6px -4px rgba(0,0,0,.2)}.ff,.ff thead{-webkit-box-shadow:-6px 0 6px -4px rgba(0,0,0,.2);box-shadow:-6px 0 6px -4px rgba(0,0,0,.2)}"),r.exports=i.View.extend({init:function(e){var t=this,r=e.rwdRange;t.__eq=((r||[2,-1])+"").split(","),t.__er=e.sticky+""=="true"},__et:function(e,t,r,i,f,d){var s=a('<table id="'+d+'" class="'+e+'"><thead><tr></tr></thead><tbody></tbody></table>');return this.__es(s,t,r,i,f),s},__es:function(e,t,r,i,f){for(var d=e.find("thead>tr"),s=d.find("th"),_=e.find("tbody"),n=_.find("tr"),o=t;o<r;o++){var h=i.eq(o),l=o>=s.length;"true"!==h.attr("fake")&&(a('<th fake="true"/>').css({height:h.outerHeight(),width:h.outerWidth()}).insertBefore(h),l?d.append(h):s.eq(o-t).replaceWith(h))}for(o=0;o<f.length;o++){for(var c=f.eq(o).find("td"),p=void 0,g=(p=(l=o>=n.length)?a("<tr/>"):n.eq(o)).find("td"),u=t;u<r;u++){var v=c.eq(u);"true"!==v.attr("fake")&&(a('<td fake="true"/>').css({height:v.outerHeight(),width:v.outerWidth()}).insertBefore(v),l?p.append(v):g.eq(u-t).replaceWith(v))}l&&_.append(p)}for(o=f.length;o<n.length;o++)n.eq(o).remove()},__eu:function(e,t,r){for(var i=0,a=t.length;a--;){var d=t.eq(a).attr("style").match(f);d&&(i+=parseInt(d[1]))}return i>r?(e.css({width:i}),e.find("thead").css({width:i}),!1):(e.css({width:"inherit"}),e.find("thead").css({width:"inherit"}),!0)},__eD:function(){var e=this,t=a("#"+e.id),r=e.__ev||t.find("table"),f=e.__ew||r.find("thead>tr>th"),d=0;if(delete e.__ev,delete e.__ew,t.hasClass("f_"))e.__ez!=f.length&&(d=e.__eu(r,f,t.width()),e.__ez=f.length);else{t.wrap('<div class="ae fb"></div>'),t.addClass("f_"),e.__ex=t,t.on("scroll",function(){e.__ey()}),e.on("destroy",function(){t.off("scroll")}),r.addClass("fd");var s=r.find("tfoot");s.length&&a('<table class="ay"></table>').append(s).insertAfter(t),d=e.__eu(r,f,t.width()),e.__ez=f.length}if(d)return(v=e.__eA)&&(v.remove(),delete e.__eA),void((v=e.__eB)&&(v.remove(),delete e.__eB));for(var _=e.__eq,n=+_[0],o=+_[1],h=t.find("tbody>tr"),l=f.length;l--;){var c=f.eq(l);"true"!==c.attr("fake")&&c.css({height:c.outerHeight()})}for(l=h.length;l--;){var p=h.eq(l).find("td"),g=p.eq(0);g.css({height:g.outerHeight()}),(g=p.last()).css({height:g.outerHeight()})}if(e.__eB)e.__es(e.__eB,0,n,f,h);else if(n){u="t_"+e.id+"_left";(v=e.__et(r.attr("class")+" fa",0,n,f,h,u)).insertAfter(t),e.__eB=v,e.__er&&e.owner.mountVframe(u,"mx-table/isticky")}if(e.__eA)e.__es(e.__eA,o+f.length,f.length,f,h);else if(o){var u="t_"+e.id+"_right",v=e.__et(r.attr("class")+" fc",o+f.length,f.length,f,h,u);v.insertAfter(t),e.__eA=v,e.__er&&e.owner.mountVframe(u,"mx-table/isticky")}e.__er&&!e.__eC&&(e.__eC=1,(u=r.attr("id"))||r.attr("id",u=i.guid("table_")),e.owner.mountVframe(u,"mx-table/isticky"))},__ey:function(){var e=this,t=e.__ex;if(t){var r=e.__eB,i=e.__eA;if(t.prop("clientWidth")<t.prop("scrollWidth")){if(r){t.prop("scrollLeft")>=10?r.hasClass("fe")||r.addClass("fe"):r.hasClass("fe")&&r.removeClass("fe")}if(i){t.prop("scrollLeft")<t.prop("scrollWidth")-t.prop("clientWidth")-10?i.hasClass("ff")||i.addClass("ff"):i.hasClass("ff")&&i.removeClass("ff")}}}},render:function(){var e=this;e.__eD(),e.__ey()},"$doc<htmlchanged>":function(e){var t=this;if(e.vId==t.owner.pId){var r=a("#"+t.id).find("table"),i=r.find("thead>tr>th"),f=r.find("tbody>tr").first().find("td");i.length==f.length&&(t.__ev=r,t.__ew=i,t.render())}},"$win<resize>":function(){this.__ey()}})});