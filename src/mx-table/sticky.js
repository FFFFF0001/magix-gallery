define("mx-table/sticky",["magix","$"],function(_,t,f){var i=_("magix"),e=_("$");f.exports=i.View.extend({init:function(_){var t=this;t.__eY=e("#header").height()||50;var f=e("#"+t.id).parents("_cd"),i=e("#inmain");f.length||i.length||(i=e(window),t.__eY=0);var n=f.parent(),o=function(){t.__eZ(n)},r=function(){t.__eZ(i)};t.on("destroy",function(){n.off("scroll",o),i.off("scroll",r)}),n.on("scroll",o),i.on("scroll",r),t.__fw=n,t.__fx=f,t.__f_=i,t.__fy=_.zIndex},__fc:function(){var _=this,t=e("#"+_.id).find("table"),f=t.find("thead"),i=f.find("tr").last(),n=t.find("tbody>tr").eq(0),o="ph_"+_.id,r=e("#"+o),d=i.find("th"),s=n.find("td");s.length&&s.length==d.length&&(r.length||(r=e("<caption />").insertBefore(f).attr("id",o)),f.css({marginLeft:-1,border:"1px solid "+t.css("border-top-color"),position:"absolute",background:"#fff",zIndex:_.__fy||1})),_.__fz="abs",_.__fa=r,_.__i=t,_.__fb=f,_.__fA=n,_.__fB=s,_.__fC=d},__fg:function(){var _=this,t=e.now();if(!_.__fd||_.__fd+3e3<t){_.__fd=t;var f=_.__i,i=void 0,n=void 0;i=_.__fx.length?f.position().top+parseInt(_.__fx.css("top"),10):_.__eY?f.offset().top+_.__f_.scrollTop()-_.__eY:f.offset().top,n=f.height();var o=f.find("tfoot"),r=0;return o.length&&(r=o.height()),_.__fe={min:i,max:i+n-_.__ff-r}}return _.__fe},render:function(){var _=this;_.__fc(),_.__fD(),_.__fh(),_.__eZ(_.__fw)},__fh:function(){var _=this,t=_.__fb,f=_.__fa,i=t.height();i!=_.__ff&&("abs"==_.__fz&&t.css({marginTop:-i}),f.css("height",i),_.__ff=i)},__fD:function(){var _=this;_.__fb.width(_.__fA.width()-1);var t,f=_.__fB,i=_.__fC;f.length>0&&f.length==i.length&&(f.each(function(_,f){f=e(f);var n=(t=e(i[_])).attr("width");n?(t.removeAttr("width"),f.attr("width",n)):(n=t.attr("style"))&&(t.removeAttr("style"),f.attr("style",n))}),f.each(function(_,f){f=e(f),(t=e(i[_])).children("div").length||t.wrapInner("<div/>"),t.children("div").width(f.width())}))},__eZ:function(_){var t=this;_||(_=t.__f_);var f=_.scrollTop(),i=t.__fg();if(f>i.min&&f<i.max){if("fixed"!=t.__fz){var e=t.__fw;t.__fz="fixed",t.__fb.css({position:"fixed",top:e&&e.length?0:t.__eY,marginTop:"auto"})}}else"abs"!=t.__fz&&(t.__fz="abs",t.__fb.css({marginTop:-t.__ff,position:"absolute",top:"auto"}))},"$win<resize>":function(){this.__fD(),this.__fh()},"$doc<htmlchanged,navslidend>":function(_){var t=this;(i.inside(_.node,t.id)||_.vId==t.owner.pId||"navslidend"==_.type)&&(clearTimeout(t.__fv),t.__fv=setTimeout(function(){t.__fc(),t.__fD(),t.__fh(),delete t.__fd,t.__eZ(t.__fw)},0))}})});