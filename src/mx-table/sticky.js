define("mx-table/sticky",["magix","$"],function(_,e,t){var i=_("magix"),n=_("$");t.exports=i.View.extend({init:function(_){var e=this;e.__eE=50;var t=n("#"+e.id).parents("bT"),i=n("#inmain");t.length||i.length||(i=n(window),e.__eE=0);var o=t.parent(),f=function(){e.__eF(o)},r=function(){e.__eF(i)};e.on("destroy",function(){o.off("scroll",f),i.off("scroll",r)}),o.on("scroll",f),i.on("scroll",r),e.__fb=o,e.__fc=t,e.__eG=i,e.__fd=_.zIndex},__eJ:function(){var _=this,e=n("#"+_.id).find("table"),t=e.find("thead"),i=t.find("tr").last(),o=e.find("tbody>tr").eq(0),f="ph_"+_.id,r=n("#"+f),s=i.find("th"),a=o.find("td");a.length&&a.length==s.length&&(r.length||(r=n("<caption />").css({border:"solid 1px "+e.css("border-color")}).insertBefore(t).attr("id",f)),t.css({position:"absolute",background:"#fff",zIndex:_.__fd||1})),_.__fe="abs",_.__eH=r,_.__h=e,_.__eI=t,_.__ff=o,_.__fg=a,_.__fh=s},__eN:function(){var _=this,e=n.now();if(!_.__eK||_.__eK+3e3<e){_.__eK=e;var t=_.__h,i=void 0,o=void 0;i=_.__fc.length?t.position().top+parseInt(_.__fc.css("top"),10):_.__eE?t.offset().top+_.__eG.scrollTop()-_.__eE:t.offset().top,o=t.height();var f=t.find("tfoot"),r=0;return f.length&&(r=f.height()),_.__eL={min:i,max:i+o-_.__eM-r}}return _.__eL},render:function(){var _=this;_.__eJ(),_.__fi(),_.__eO(),_.__eF(_.__fb)},__eO:function(){var _=this,e=_.__eI,t=_.__eH,i=e.height();i!=_.__eM&&("abs"==_.__fe&&e.css({marginTop:-i}),t.css("height",i),_.__eM=i)},__fi:function(){var _=this;_.__eI.width(_.__ff.width()-1);var e,t=_.__fg,i=_.__fh;t.length>0&&t.length==i.length&&(t.each(function(_,t){t=n(t);var o=(e=n(i[_])).attr("width");o?(e.removeAttr("width"),t.attr("width",o)):(o=e.attr("style"))&&(e.removeAttr("style"),t.attr("style",o))}),t.each(function(_,t){t=n(t),(e=n(i[_])).children("div").length||e.wrapInner("<div/>"),e.children("div").width(t.width())}))},__eF:function(_){var e=this;_||(_=e.__eG);var t=_.scrollTop(),i=e.__eN();if(t>i.min&&t<i.max){if("fixed"!=e.__fe){var n=e.__fb;e.__fe="fixed",e.__eI.css({position:"fixed",top:n&&n.length?0:e.__eE,marginTop:"auto"})}}else"abs"!=e.__fe&&(e.__fe="abs",e.__eI.css({marginTop:-e.__eM,position:"absolute",top:"auto"}))},"$win<resize>":function(){this.__fi(),this.__eO()},"$doc<htmlchanged,navslidend>":function(_){var e=this;(i.inside(_.node,e.id)||_.vId==e.owner.pId||"navslidend"==_.type)&&(clearTimeout(e.__fa),e.__fa=setTimeout(function(){e.__eJ(),e.__fi(),e.__eO(),delete e.__eK,e.__eF(e.__fb)},0))}})});