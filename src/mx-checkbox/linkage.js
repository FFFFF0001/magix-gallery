define("mx-checkbox/linkage",["$","magix"],(e,t,n)=>{let i=e("$"),a=e("magix"),r=(e,t,n)=>{let i=e.find("input[linkage="+n+"]"),a=e.find("input[linkage-parent="+n+"]"),r=!1,l=!1,c=i[0]==t,p=t&&t.checked;a.each((e,t)=>{c&&(t.checked=p),t.checked?r=!0:l=!0}),i.prop("indeterminate",!1),r&&!l?i.prop("checked",!0):l&&!r?i.prop("checked",!1):r&&i.prop("indeterminate",!0)},l=(e,t)=>{let n=(e=>{let t={};return(e=i(e)).find("input[linkage-parent]").each((e,n)=>{let a=i(n).attr("linkage-parent");t[a]=1}),e.find("input[linkage]").each((e,n)=>{let a=i(n).attr("linkage");t[a]=1}),a.keys(t)})(e=i(e));if(n.length)for(let i of n)r(e,t,i)};n.exports={ctor(){let e=this;e.on("rendered",()=>{l("#"+e.id)})},getSelectedIds(e){let t=[];return i("#"+this.id+" input:checked").each((n,a)=>{let r=a.value,l=i(a).attr("linkage-parent");l&&r&&(!e||e&&e==l)&&t.push(a.value)}),t},"$input[linkage-parent]<change>"(e){l("#"+this.id,e.eventTarget)},"$input[linkage]<change>"(e){l("#"+this.id,e.eventTarget)}}});