define("mx-color/picker",["magix","$","../mx-monitor/index","./index"],(_,t,e)=>{let i=_("magix"),o=_("$"),n=_("../mx-monitor/index");_("./index"),e.exports=i.View.extend({init(_){let t=this;t.__W=_.color,t.__I=_.placement,t.__J=_.align,t.__X=_.showAlpha,n.__d();let e=o("#"+t.id),i=()=>{t.__e()};t.on("destroy",()=>{n.__f(t),n.__g(),o("#cpcnt_"+t.id).remove(),e.off("click",i)}),e.on("click",i),t.__h=e,e.prop("autocomplete","off")},__i(_){return i.inside(_,this.id)||i.inside(_,"cpcnt_"+this.id)},render(){let _=this,t="cpcnt_"+_.id;_.__W=_.__W||_.__h.val(),o(_.wrapEvent('<div style="position:absolute;display:none;z-index:10" mx-change="__ak()"></div>')).attr("id",t).insertAfter(_.__h)},__e(){let _=this;if(!_.__j){let t=o("#cpcnt_"+_.id),e=_.__h;_.__j=!0,_.__l||(_.__l=!0,_.owner.mountVframe("cpcnt_"+_.id,"mx-color/index",{showBtns:!0,showAlpha:_.__X,color:_.__W})),n.__k(_),t.show();let i,l,r=e.offset();switch(_.__I){case"top":l=r.top-t.outerHeight()-5;break;default:l=r.top+e.outerHeight()+5}switch(_.__J){case"right":i=r.left+e.outerWidth()-t.outerWidth();break;default:i=r.left}t.offset({left:i,top:l})}},__a(){let _=this;if(_.__j){let t=o("#cpcnt_"+_.id);_.__j=!1,t.hide(),n.__f(_)}},"__ak<change>"(_){_.stopPropagation(),this.__h.val(_.color).trigger({type:"change",color:_.color}),this.__a()}})});