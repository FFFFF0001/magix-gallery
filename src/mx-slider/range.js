define("mx-slider/range",["magix","$","../mx-dragdrop/index","./style"],function(e,_,t){var i=e("magix"),a=e("$"),s=e("../mx-dragdrop/index");e("./style"),t.exports=i.View.extend({tmpl:{html:'<div mx-guid="g0" class="_ew<%if($$.vertical){%> _ey<%}else{%> _ex<%}%>" mx-contextmenu="__E()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"><div mx-guid="g1" class="_ez<%if($$.vertical){%> _eB<%}else{%> _eA<%}%>"></div><div mx-guid="g2" class="_eC<%if($$.vertical){%> _eE<%}else{%> _eD<%}%>" mx-mousedown="__ej({start:true})" id="left_<%=$$.viewId%>"></div><div mx-guid="g3" class="_eF<%if($$.vertical){%> _eL<%}else{%> _eK<%}%>" id="leftl_<%=$$.viewId%>"></div><div mx-guid="g4" class="_eC<%if($$.vertical){%> _eE<%}else{%> _eD<%}%>" mx-mousedown="__ej({end:true})" id="right_<%=$$.viewId%>"></div><div mx-guid="g5" class="_eF<%if($$.vertical){%> _eL<%}else{%> _eK<%}%>" id="rightl_<%=$$.viewId%>"></div><div mx-guid="g6" class="<%if($$.vertical){%>_eI<%}else{%>_eG<%}%>">7</div><div mx-guid="g7" class="<%if($$.vertical){%>_eJ<%}else{%>_eH<%}%>">8</div></div>',subs:[{keys:["vertical","height","width"],path:'div[mx-guid="g0"]',attr:'class="_ew<%if($$.vertical){%> _ey<%}else{%> _ex<%}%>" mx-contextmenu="__E()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-contextmenu"},{n:"style"}]},{keys:["vertical"],path:'div[mx-guid="g1"]',attr:'class="_ez<%if($$.vertical){%> _eB<%}else{%> _eA<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical","viewId"],path:'div[mx-guid="g2"]',attr:'class="_eC<%if($$.vertical){%> _eE<%}else{%> _eD<%}%>" mx-mousedown="__ej({start:true})" id="left_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-mousedown"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g3"]',attr:'class="_eF<%if($$.vertical){%> _eL<%}else{%> _eK<%}%>" id="leftl_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g4"]',attr:'class="_eC<%if($$.vertical){%> _eE<%}else{%> _eD<%}%>" mx-mousedown="__ej({end:true})" id="right_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-mousedown"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g5"]',attr:'class="_eF<%if($$.vertical){%> _eL<%}else{%> _eK<%}%>" id="rightl_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"id",p:1}]},{keys:["vertical","min"],path:'div[mx-guid="g6"]',tmpl:"<%=$$.min%>",s:"7",attr:'class="<%if($$.vertical){%>_eI<%}else{%>_eG<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"},{keys:["vertical","max"],path:'div[mx-guid="g7"]',tmpl:"<%=$$.max%>",s:"8",attr:'class="<%if($$.vertical){%>_eJ<%}else{%>_eH<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"}]},init:function(e){var _=this,t=a("#"+_.id);t.addClass("_ev"),_.assign(e);var i=function(e){if(!_.__ee&&!_.__cc){var i=t.offset(),a=_.__ef(),s=-1,r=((s=_.__eg?a.rMax-e.pageY+i.top:e.pageX-i.left)-a.half)/a.max,l=_.__eh(r),d=+_.__aT,c=+_.__aK;Math.abs(d-l)<Math.abs(c-l)?(_.__ek(l),_.__aT=l,_.__v()):(_.__el(l),_.__aK=l,_.__v())}};t.on("click",i),_.on("destroy",function(){t.off("click",i)}),_.__i=t},assign:function(e){var _=this;_.__da=+e.width||340,_.__ei=+e.height||340,_.__F=+e.min||0,_.__G=+e.max||100,_.__dr=+e.step||1,_.__cc=e.disabled+""=="true",_.__eg=e.vertical+""=="true";var t=_.__dr+"",i=t.indexOf(".");i=i>=0?t.slice(i+1).length:0,_.__dt=i;var a=e.value;return a?(a=(a+"").split(","),_.__aT=+a[0]||0,_.__aK=+a[1]||0):(_.__aT=0,_.__aK=0),!0},render:function(){var e=this;e.updater.digest({min:e.__F.toFixed(e.__dt),max:e.__G.toFixed(e.__dt),viewId:e.id,height:e.__ei,width:e.__da,vertical:e.__eg}),e.__i[e.__cc?"addClass":"removeClass"]("_eM"),e.val([e.__aT,e.__aK])},__ef:function(){var e=this,_=e.__i.find("._ew"),t=e.__i.find("._ez"),i=a("#left_"+e.id),s=a("#right_"+e.id),r=e.__eg?_.height():_.width(),l=i.outerWidth()/2,d=r-2*l;return{rail:_,iLeftL:a("#leftl_"+e.id),iRightL:a("#rightl_"+e.id),tracker:t,iLeft:i,iRight:s,left:parseInt(i.css(e.__eg?"bottom":"left"),10),right:parseInt(s.css(e.__eg?"bottom":"left"),10),rMax:r,max:d,half:l}},__ek:function(e){var _=this;e=+e;var t=_.__G,i=_.__F;e>t?e=t:e<i&&(e=i);var a=(e-i)/(t-i),s=_.__ef(),r=a*s.max;_.__eg?s.iLeft.css({bottom:r}):s.iLeft.css({left:r}),e=_.__eh(a);var l=s.iLeftL;l.html(e);var d=r+s.half;if(_.__eg)d-=c=l.height()/2,l.css({bottom:d}),s.tracker.css({bottom:r+s.half}).height(s.right-r);else{var c=l.width()/2;d<c?d=0:d+c>s.rMax?d=s.rMax-2*c:d-=c,l.css({left:d}),s.tracker.css({left:r+s.half}).width(s.right-r)}return e},__el:function(e){var _=this;e=+e;var t=_.__G,i=_.__F;e>t?e=t:e<i&&(e=i);var a=(e-i)/(t-i),s=_.__ef(),r=a*s.max;_.__eg?s.iRight.css({bottom:r}):s.iRight.css({left:r}),e=_.__eh(a);var l=s.iRightL;l.html(e);var d=r+s.half;if(_.__eg)d-=c=l.height()/2,l.css({bottom:d}),s.tracker.height(r-s.left);else{var c=l.width()/2;d<c?d=0:d+c>s.rMax?d=s.rMax-2*c:d-=c,l.css({left:d}),s.tracker.width(r-s.left)}return e},val:function(e){var _=this;if(e){var t=(e+"").split(","),i=+t[0]||0,a=+t[1]||0;i>a&&(i=(s=[a,i])[0],a=s[1]),_.__i.prop("value",[i,a]),i=_.__ek(i),a=_.__el(a),_.__aT==i&&_.__aK==a||(_.__aT=i,_.__aK=a,_.__v())}return[+_.__aT,+_.__aK];var s},__eh:function(e){var _,t=this,i=t.__G,a=t.__F,s=t.__dr;return 0===e?_=a:1===e?_=i:(_=a+(i-a)*e,_=Math.round(_/s)*s),_=_.toFixed(t.__dt)},__v:function(){var e=this,_=[+e.__aT,+e.__aK];this.__i.prop("value",_).trigger({type:"change",value:_,start:+e.__aT,end:+e.__aK})},"__ej<mousedown>":function(e){e.stopPropagation(),e.preventDefault();var _=this;if(!_.__cc){var t=a(e.eventTarget),i=t.outerWidth(),r=-1;r=_.__eg?t.parent().height()-i:t.parent().width()-i;var l=parseInt(t.css(_.__eg?"bottom":"left"),10),d=_.__aT,c=_.__aK;s.begin(e.eventTarget,function(t){s.clear();var i=-1;(i=_.__eg?l+e.pageY-t.pageY:l+t.pageX-e.pageX)<0?i=0:i>r&&(i=r);var a=i/r,v=_.__eh(a),n=+v;if(e.params.end){var g=+_.__aT;n>=g?(_.__aT!=d&&(d=_.__ek(g)),c=_.__el(v)):(_.__aT!=c&&(c=_.__el(g)),d=_.__ek(v))}else{var h=+_.__aK;n<=h?(_.__aK!=c&&(c=_.__el(h)),d=_.__ek(v)):(_.__aK!=d&&(d=_.__ek(h)),c=_.__el(v))}},function(){d==_.__aT&&_.__aK==c||(_.__aT=d,_.__aK=c,_.__v()),_.__ee=!0,setTimeout(_.wrapAsync(function(){delete _.__ee}),20)})}},"__E<contextmenu>":function(e){e.preventDefault()}})});