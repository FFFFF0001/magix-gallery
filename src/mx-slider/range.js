define("mx-slider/range",["magix","$","../mx-dragdrop/index","./style"],function(e,_,t){var i=e("magix"),a=e("$"),s=e("../mx-dragdrop/index");e("./style"),t.exports=i.View.extend({tmpl:{html:'<div mx-guid="g0" class="_er<%if($$.vertical){%> _et<%}else{%> _es<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"><div mx-guid="g1" class="_eu<%if($$.vertical){%> _ew<%}else{%> _ev<%}%>"></div><div mx-guid="g2" class="_ex<%if($$.vertical){%> _ez<%}else{%> _ey<%}%>" mx-mousedown="__dX({start:true})" id="left_<%=$$.viewId%>"></div><div mx-guid="g3" class="_eA<%if($$.vertical){%> _eG<%}else{%> _eF<%}%>" id="leftl_<%=$$.viewId%>"></div><div mx-guid="g4" class="_ex<%if($$.vertical){%> _ez<%}else{%> _ey<%}%>" mx-mousedown="__dX({end:true})" id="right_<%=$$.viewId%>"></div><div mx-guid="g5" class="_eA<%if($$.vertical){%> _eG<%}else{%> _eF<%}%>" id="rightl_<%=$$.viewId%>"></div><div mx-guid="g6" class="<%if($$.vertical){%>_eD<%}else{%>_eB<%}%>">7</div><div mx-guid="g7" class="<%if($$.vertical){%>_eE<%}else{%>_eC<%}%>">8</div></div>',subs:[{keys:["vertical","height","width"],path:'div[mx-guid="g0"]',attr:'class="_er<%if($$.vertical){%> _et<%}else{%> _es<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-contextmenu"},{n:"style"}]},{keys:["vertical"],path:'div[mx-guid="g1"]',attr:'class="_eu<%if($$.vertical){%> _ew<%}else{%> _ev<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical","viewId"],path:'div[mx-guid="g2"]',attr:'class="_ex<%if($$.vertical){%> _ez<%}else{%> _ey<%}%>" mx-mousedown="__dX({start:true})" id="left_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-mousedown"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g3"]',attr:'class="_eA<%if($$.vertical){%> _eG<%}else{%> _eF<%}%>" id="leftl_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g4"]',attr:'class="_ex<%if($$.vertical){%> _ez<%}else{%> _ey<%}%>" mx-mousedown="__dX({end:true})" id="right_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-mousedown"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g5"]',attr:'class="_eA<%if($$.vertical){%> _eG<%}else{%> _eF<%}%>" id="rightl_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"id",p:1}]},{keys:["vertical","min"],path:'div[mx-guid="g6"]',tmpl:"<%=$$.min%>",s:"7",attr:'class="<%if($$.vertical){%>_eD<%}else{%>_eB<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"},{keys:["vertical","max"],path:'div[mx-guid="g7"]',tmpl:"<%=$$.max%>",s:"8",attr:'class="<%if($$.vertical){%>_eE<%}else{%>_eC<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"}]},init:function(e){var _=this,t=a("#"+_.id);t.addClass("_eq"),_.assign(e);var i=function(e){if(!_.__dS&&!_.__bS){var i=t.offset(),a=_.__dT(),s=-1,d=((s=_.__dU?a.rMax-e.pageY+i.top:e.pageX-i.left)-a.half)/a.max,r=_.__dV(d),l=+_.__aI,v=+_.__az;Math.abs(l-r)<Math.abs(v-r)?(_.__dY(r),_.__aI=r,_.__u()):(_.__dZ(r),_.__az=r,_.__u())}};t.on("click",i),_.on("destroy",function(){t.off("click",i)}),_.__h=t},assign:function(e){var _=this;_.__cO=+e.width||340,_.__dW=+e.height||340,_.__E=+e.min||0,_.__F=+e.max||100,_.__de=+e.step||1,_.__bS=e.disabled+""=="true",_.__dU=e.vertical+""=="true";var t=_.__de+"",i=t.indexOf(".");i=i>=0?t.slice(i+1).length:0,_.__dg=i;var a=e.value;return a?(a=(a+"").split(","),_.__aI=+a[0]||0,_.__az=+a[1]||0):(_.__aI=0,_.__az=0),!0},render:function(){var e=this;e.updater.digest({min:e.__E.toFixed(e.__dg),max:e.__F.toFixed(e.__dg),viewId:e.id,height:e.__dW,width:e.__cO,vertical:e.__dU}),e.__h[e.__bS?"addClass":"removeClass"]("_eH"),e.val([e.__aI,e.__az])},__dT:function(){var e=this,_=e.__h.find("._er"),t=e.__h.find("._eu"),i=a("#left_"+e.id),s=a("#right_"+e.id),d=e.__dU?_.height():_.width(),r=i.outerWidth()/2,l=d-2*r;return{rail:_,iLeftL:a("#leftl_"+e.id),iRightL:a("#rightl_"+e.id),tracker:t,iLeft:i,iRight:s,left:parseInt(i.css(e.__dU?"bottom":"left"),10),right:parseInt(s.css(e.__dU?"bottom":"left"),10),rMax:d,max:l,half:r}},__dY:function(e){var _=this;e=+e;var t=_.__F,i=_.__E;e>t?e=t:e<i&&(e=i);var a=(e-i)/(t-i),s=_.__dT(),d=a*s.max;_.__dU?s.iLeft.css({bottom:d}):s.iLeft.css({left:d}),e=_.__dV(a);var r=s.iLeftL;r.html(e);var l=d+s.half;if(_.__dU)l-=v=r.height()/2,r.css({bottom:l}),s.tracker.css({bottom:d+s.half}).height(s.right-d);else{var v=r.width()/2;l<v?l=0:l+v>s.rMax?l=s.rMax-2*v:l-=v,r.css({left:l}),s.tracker.css({left:d+s.half}).width(s.right-d)}return e},__dZ:function(e){var _=this;e=+e;var t=_.__F,i=_.__E;e>t?e=t:e<i&&(e=i);var a=(e-i)/(t-i),s=_.__dT(),d=a*s.max;_.__dU?s.iRight.css({bottom:d}):s.iRight.css({left:d}),e=_.__dV(a);var r=s.iRightL;r.html(e);var l=d+s.half;if(_.__dU)l-=v=r.height()/2,r.css({bottom:l}),s.tracker.height(d-s.left);else{var v=r.width()/2;l<v?l=0:l+v>s.rMax?l=s.rMax-2*v:l-=v,r.css({left:l}),s.tracker.width(d-s.left)}return e},val:function(e){var _=this;if(e){var t=(e+"").split(","),i=+t[0]||0,a=+t[1]||0;i>a&&(i=(s=[a,i])[0],a=s[1]),_.__h.prop("value",[i,a]),i=_.__dY(i),a=_.__dZ(a),_.__aI==i&&_.__az==a||(_.__aI=i,_.__az=a,_.__u())}return[+_.__aI,+_.__az];var s},__dV:function(e){var _,t=this,i=t.__F,a=t.__E,s=t.__de;return 0===e?_=a:1===e?_=i:(_=a+(i-a)*e,_=Math.round(_/s)*s),_=_.toFixed(t.__dg)},__u:function(){var e=this,_=[+e.__aI,+e.__az];this.__h.prop("value",_).trigger({type:"change",value:_,start:+e.__aI,end:+e.__az})},"__dX<mousedown>":function(e){e.stopPropagation(),e.preventDefault();var _=this;if(!_.__bS){var t=a(e.eventTarget),i=t.outerWidth(),d=-1;d=_.__dU?t.parent().height()-i:t.parent().width()-i;var r=parseInt(t.css(_.__dU?"bottom":"left"),10),l=_.__aI,v=_.__az;s.begin(e.eventTarget,function(t){s.clear();var i=-1;(i=_.__dU?r+e.pageY-t.pageY:r+t.pageX-e.pageX)<0?i=0:i>d&&(i=d);var a=i/d,c=_.__dV(a),n=+c;if(e.params.end){var h=+_.__aI;n>=h?(_.__aI!=l&&(l=_.__dY(h)),v=_.__dZ(c)):(_.__aI!=v&&(v=_.__dZ(h)),l=_.__dY(c))}else{var f=+_.__az;n<=f?(_.__az!=v&&(v=_.__dZ(f)),l=_.__dY(c)):(_.__az!=l&&(l=_.__dY(f)),v=_.__dZ(c))}},function(){l==_.__aI&&_.__az==v||(_.__aI=l,_.__az=v,_.__u()),_.__dS=!0,setTimeout(_.wrapAsync(function(){delete _.__dS}),20)})}},"__D<contextmenu>":function(e){e.preventDefault()}})});