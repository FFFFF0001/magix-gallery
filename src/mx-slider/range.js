define("mx-slider/range",["magix","$","../mx-dragdrop/index","./style"],function(e,_,t){var a=e("magix"),i=e("$"),s=e("../mx-dragdrop/index");e("./style"),t.exports=a.View.extend({tmpl:{html:'<div mx-guid="g0" class="_et<%if($$.vertical){%> _ev<%}else{%> _eu<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"><div mx-guid="g1" class="_ew<%if($$.vertical){%> _ey<%}else{%> _ex<%}%>"></div><div mx-guid="g2" class="_ez<%if($$.vertical){%> _eB<%}else{%> _eA<%}%>" mx-mousedown="__dZ({start:true})" id="left_<%=$$.viewId%>"></div><div mx-guid="g3" class="_eC<%if($$.vertical){%> _eI<%}else{%> _eH<%}%>" id="leftl_<%=$$.viewId%>"></div><div mx-guid="g4" class="_ez<%if($$.vertical){%> _eB<%}else{%> _eA<%}%>" mx-mousedown="__dZ({end:true})" id="right_<%=$$.viewId%>"></div><div mx-guid="g5" class="_eC<%if($$.vertical){%> _eI<%}else{%> _eH<%}%>" id="rightl_<%=$$.viewId%>"></div><div mx-guid="g6" class="<%if($$.vertical){%>_eF<%}else{%>_eD<%}%>">7</div><div mx-guid="g7" class="<%if($$.vertical){%>_eG<%}else{%>_eE<%}%>">8</div></div>',subs:[{keys:["vertical","height","width"],path:'div[mx-guid="g0"]',attr:'class="_et<%if($$.vertical){%> _ev<%}else{%> _eu<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-contextmenu"},{n:"style"}]},{keys:["vertical"],path:'div[mx-guid="g1"]',attr:'class="_ew<%if($$.vertical){%> _ey<%}else{%> _ex<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical","viewId"],path:'div[mx-guid="g2"]',attr:'class="_ez<%if($$.vertical){%> _eB<%}else{%> _eA<%}%>" mx-mousedown="__dZ({start:true})" id="left_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-mousedown"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g3"]',attr:'class="_eC<%if($$.vertical){%> _eI<%}else{%> _eH<%}%>" id="leftl_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g4"]',attr:'class="_ez<%if($$.vertical){%> _eB<%}else{%> _eA<%}%>" mx-mousedown="__dZ({end:true})" id="right_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-mousedown"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g5"]',attr:'class="_eC<%if($$.vertical){%> _eI<%}else{%> _eH<%}%>" id="rightl_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"id",p:1}]},{keys:["vertical","min"],path:'div[mx-guid="g6"]',tmpl:"<%=$$.min%>",s:"7",attr:'class="<%if($$.vertical){%>_eF<%}else{%>_eD<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"},{keys:["vertical","max"],path:'div[mx-guid="g7"]',tmpl:"<%=$$.max%>",s:"8",attr:'class="<%if($$.vertical){%>_eG<%}else{%>_eE<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"}]},init:function(e){var _=this,t=i("#"+_.id);t.addClass("_es"),_.assign(e);var a=function(e){if(!_.__dU&&!_.__bS){var a=t.offset(),i=_.__dV(),s=-1,d=((s=_.__dW?i.rMax-e.pageY+a.top:e.pageX-a.left)-i.half)/i.max,r=_.__dX(d),l=+_.__aI,v=+_.__az;Math.abs(l-r)<Math.abs(v-r)?(_.__e_(r),_.__aI=r,_.__u()):(_.__ea(r),_.__az=r,_.__u())}};t.on("click",a),_.on("destroy",function(){t.off("click",a)}),_.__h=t},assign:function(e){var _=this;_.__cQ=+e.width||340,_.__dY=+e.height||340,_.__E=+e.min||0,_.__F=+e.max||100,_.__dg=+e.step||1,_.__bS=e.disabled+""=="true",_.__dW=e.vertical+""=="true";var t=_.__dg+"",a=t.indexOf(".");a=a>=0?t.slice(a+1).length:0,_.__di=a;var i=e.value;return i?(i=(i+"").split(","),_.__aI=+i[0]||0,_.__az=+i[1]||0):(_.__aI=0,_.__az=0),!0},render:function(){var e=this;e.updater.digest({min:e.__E.toFixed(e.__di),max:e.__F.toFixed(e.__di),viewId:e.id,height:e.__dY,width:e.__cQ,vertical:e.__dW}),e.__h[e.__bS?"addClass":"removeClass"]("_eJ"),e.val([e.__aI,e.__az])},__dV:function(){var e=this,_=e.__h.find("._et"),t=e.__h.find("._ew"),a=i("#left_"+e.id),s=i("#right_"+e.id),d=e.__dW?_.height():_.width(),r=a.outerWidth()/2,l=d-2*r;return{rail:_,iLeftL:i("#leftl_"+e.id),iRightL:i("#rightl_"+e.id),tracker:t,iLeft:a,iRight:s,left:parseInt(a.css(e.__dW?"bottom":"left"),10),right:parseInt(s.css(e.__dW?"bottom":"left"),10),rMax:d,max:l,half:r}},__e_:function(e){var _=this;e=+e;var t=_.__F,a=_.__E;e>t?e=t:e<a&&(e=a);var i=(e-a)/(t-a),s=_.__dV(),d=i*s.max;_.__dW?s.iLeft.css({bottom:d}):s.iLeft.css({left:d}),e=_.__dX(i);var r=s.iLeftL;r.html(e);var l=d+s.half;if(_.__dW)l-=v=r.height()/2,r.css({bottom:l}),s.tracker.css({bottom:d+s.half}).height(s.right-d);else{var v=r.width()/2;l<v?l=0:l+v>s.rMax?l=s.rMax-2*v:l-=v,r.css({left:l}),s.tracker.css({left:d+s.half}).width(s.right-d)}return e},__ea:function(e){var _=this;e=+e;var t=_.__F,a=_.__E;e>t?e=t:e<a&&(e=a);var i=(e-a)/(t-a),s=_.__dV(),d=i*s.max;_.__dW?s.iRight.css({bottom:d}):s.iRight.css({left:d}),e=_.__dX(i);var r=s.iRightL;r.html(e);var l=d+s.half;if(_.__dW)l-=v=r.height()/2,r.css({bottom:l}),s.tracker.height(d-s.left);else{var v=r.width()/2;l<v?l=0:l+v>s.rMax?l=s.rMax-2*v:l-=v,r.css({left:l}),s.tracker.width(d-s.left)}return e},val:function(e){var _=this;if(e){var t=(e+"").split(","),a=+t[0]||0,i=+t[1]||0;a>i&&(a=(s=[i,a])[0],i=s[1]),_.__h.prop("value",[a,i]),a=_.__e_(a),i=_.__ea(i),_.__aI==a&&_.__az==i||(_.__aI=a,_.__az=i,_.__u())}return[+_.__aI,+_.__az];var s},__dX:function(e){var _,t=this,a=t.__F,i=t.__E,s=t.__dg;return 0===e?_=i:1===e?_=a:(_=i+(a-i)*e,_=Math.round(_/s)*s),_=_.toFixed(t.__di)},__u:function(){var e=this,_=[+e.__aI,+e.__az];this.__h.prop("value",_).trigger({type:"change",value:_,start:+e.__aI,end:+e.__az})},"__dZ<mousedown>":function(e){e.stopPropagation(),e.preventDefault();var _=this;if(!_.__bS){var t=i(e.eventTarget),a=t.outerWidth(),d=-1;d=_.__dW?t.parent().height()-a:t.parent().width()-a;var r=parseInt(t.css(_.__dW?"bottom":"left"),10),l=_.__aI,v=_.__az;s.begin(e.eventTarget,function(t){s.clear();var a=-1;(a=_.__dW?r+e.pageY-t.pageY:r+t.pageX-e.pageX)<0?a=0:a>d&&(a=d);var i=a/d,c=_.__dX(i),n=+c;if(e.params.end){var h=+_.__aI;n>=h?(_.__aI!=l&&(l=_.__e_(h)),v=_.__ea(c)):(_.__aI!=v&&(v=_.__ea(h)),l=_.__e_(c))}else{var f=+_.__az;n<=f?(_.__az!=v&&(v=_.__ea(f)),l=_.__e_(c)):(_.__az!=l&&(l=_.__e_(f)),v=_.__ea(c))}},function(){l==_.__aI&&_.__az==v||(_.__aI=l,_.__az=v,_.__u()),_.__dU=!0,setTimeout(_.wrapAsync(function(){delete _.__dU}),20)})}},"__D<contextmenu>":function(e){e.preventDefault()}})});