define("mx-slider/range",["magix","$","../mx-dragdrop/index","./style"],(e,_,t)=>{let i=e("magix"),a=e("$"),s=e("../mx-dragdrop/index");e("./style"),t.exports=i.View.extend({tmpl:{html:'<div mx-guid="g0" class="_ex<%if($$.vertical){%> _ez<%}else{%> _ey<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"><div mx-guid="g1" class="_eA<%if($$.vertical){%> _eC<%}else{%> _eB<%}%>"></div><div mx-guid="g2" tabindex="0" mx-keydown="__eo({start:true})" class="_eD<%if($$.vertical){%> _eF<%}else{%> _eE<%}%>" mx-mousedown="__ek({start:true})" id="left_<%=$$.viewId%>"></div><div mx-guid="g3" class="_eG<%if($$.vertical){%> _eM<%}else{%> _eL<%}%>" id="leftl_<%=$$.viewId%>"></div><div mx-guid="g4" tabindex="0" mx-keydown="__eo()" class="_eD<%if($$.vertical){%> _eF<%}else{%> _eE<%}%>" mx-mousedown="__ek({end:true})" id="right_<%=$$.viewId%>"></div><div mx-guid="g5" class="_eG<%if($$.vertical){%> _eM<%}else{%> _eL<%}%>" id="rightl_<%=$$.viewId%>"></div><div mx-guid="g6" class="<%if($$.vertical){%>_eJ<%}else{%>_eH<%}%>">7</div><div mx-guid="g7" class="<%if($$.vertical){%>_eK<%}else{%>_eI<%}%>">8</div></div>',subs:[{keys:["vertical","height","width"],path:'div[mx-guid="g0"]',attr:'class="_ex<%if($$.vertical){%> _ez<%}else{%> _ey<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-contextmenu"},{n:"style"}]},{keys:["vertical"],path:'div[mx-guid="g1"]',attr:'class="_eA<%if($$.vertical){%> _eC<%}else{%> _eB<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical","viewId"],path:'div[mx-guid="g2"]',attr:'class="_eD<%if($$.vertical){%> _eF<%}else{%> _eE<%}%>" mx-mousedown="__ek({start:true})" id="left_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-mousedown"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g3"]',attr:'class="_eG<%if($$.vertical){%> _eM<%}else{%> _eL<%}%>" id="leftl_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g4"]',attr:'class="_eD<%if($$.vertical){%> _eF<%}else{%> _eE<%}%>" mx-mousedown="__ek({end:true})" id="right_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-mousedown"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g5"]',attr:'class="_eG<%if($$.vertical){%> _eM<%}else{%> _eL<%}%>" id="rightl_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"id",p:1}]},{keys:["vertical","min"],path:'div[mx-guid="g6"]',tmpl:"<%=$$.min%>",s:"7",attr:'class="<%if($$.vertical){%>_eJ<%}else{%>_eH<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"},{keys:["vertical","max"],path:'div[mx-guid="g7"]',tmpl:"<%=$$.max%>",s:"8",attr:'class="<%if($$.vertical){%>_eK<%}else{%>_eI<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"}]},init(e){let _=this,t=a("#"+_.id);t.addClass("_ew"),_.assign(e);let s=e=>{if(_.__ee||_.__bZ)return;let a=t.offset(),s=_.__ef(),l=-1,d=((l=_.__eg?s.rMax-e.pageY+a.top:e.pageX-a.left)-s.half)/s.max,r=_.__eh(d),h=+_.__aP,c=+_.__aG;Math.abs(h-r)<Math.abs(c-r)?(_.__el(r),_.__aP=r,_.__u(),i.node("left_"+_.id).focus()):(_.__em(r),_.__aG=r,_.__u(),i.node("right_"+_.id).focus())};t.on("click",s),_.on("destroy",()=>{t.off("click",s)}),_.__h=t},assign(e){let _=this;_.__cX=+e.width||340,_.__ej=+e.height||340,_.__E=+e.min||0,_.__F=+e.max||100,_.__dn=+e.step||1,_.__bZ=e.disabled+""=="true",_.__eg=e.vertical+""=="true";let t=_.__dn+"",i=t.indexOf(".");i=i>=0?t.slice(i+1).length:0,_.__dp=i;let a=e.value;return a?(a=(a+"").split(","),_.__aP=+a[0]||0,_.__aG=+a[1]||0):(_.__aP=0,_.__aG=0),!0},render(){let e=this;e.updater.digest({min:e.__E.toFixed(e.__dp),max:e.__F.toFixed(e.__dp),viewId:e.id,height:e.__ej,width:e.__cX,vertical:e.__eg}),e.__h[e.__bZ?"addClass":"removeClass"]("_eN"),e.val([e.__aP,e.__aG])},__ef(){let e=this,_=e.__h.find("._ex"),t=e.__h.find("._eA"),i=a("#left_"+e.id),s=a("#right_"+e.id),l=e.__eg?_.height():_.width(),d=i.outerWidth()/2,r=l-2*d;return{rail:_,iLeftL:a("#leftl_"+e.id),iRightL:a("#rightl_"+e.id),tracker:t,iLeft:i,iRight:s,left:parseInt(i.css(e.__eg?"bottom":"left"),10),right:parseInt(s.css(e.__eg?"bottom":"left"),10),rMax:l,max:r,half:d}},__el(e){let _=this;e=+e;let t=_.__F,i=_.__E;e>t?e=t:e<i&&(e=i);let a=(e-i)/(t-i),s=_.__ef(),l=a*s.max;_.__eg?s.iLeft.css({bottom:l}):s.iLeft.css({left:l}),e=_.__eh(a);let d=s.iLeftL;d.html(e);let r=l+s.half;if(_.__eg){r-=d.height()/2,d.css({bottom:r}),s.tracker.css({bottom:l+s.half}).height(s.right-l)}else{let e=d.width()/2;r<e?r=0:r+e>s.rMax?r=s.rMax-2*e:r-=e,d.css({left:r}),s.tracker.css({left:l+s.half}).width(s.right-l)}return e},__em(e){let _=this;e=+e;let t=_.__F,i=_.__E;e>t?e=t:e<i&&(e=i);let a=(e-i)/(t-i),s=_.__ef(),l=a*s.max;_.__eg?s.iRight.css({bottom:l}):s.iRight.css({left:l}),e=_.__eh(a);let d=s.iRightL;d.html(e);let r=l+s.half;if(_.__eg){r-=d.height()/2,d.css({bottom:r}),s.tracker.height(l-s.left)}else{let e=d.width()/2;r<e?r=0:r+e>s.rMax?r=s.rMax-2*e:r-=e,d.css({left:r}),s.tracker.width(l-s.left)}return e},val(e){let _=this;if(e){let t=(e+"").split(","),i=+t[0]||0,a=+t[1]||0;i>a&&([i,a]=[a,i]),_.__h.prop("value",[i,a]),i=_.__el(i),a=_.__em(a),_.__aP==i&&_.__aG==a||(_.__aP=i,_.__aG=a,_.__u())}return[+_.__aP,+_.__aG]},__eh(e){let _,t=this.__F,i=this.__E,a=this.__dn;return 0===e?_=i:1===e?_=t:(_=i+(t-i)*e,_=Math.round(_/a)*a),_=_.toFixed(this.__dp)},__u(){let e=[+this.__aP,+this.__aG];this.__h.prop("value",e).trigger({type:"change",value:e,start:+this.__aP,end:+this.__aG})},__en(e,_){let t=this;e==t.__aP&&_==t.__aG||(t.__aP=e,t.__aG=_,t.__u())},"__ek<mousedown>"(e){let _=this;if(_.__bZ)return;let t=a(e.eventTarget),l=t.outerWidth(),d=-1;d=_.__eg?t.parent().height()-l:t.parent().width()-l;let r=parseInt(t.css(_.__eg?"bottom":"left"),10),h=_.__aP,c=_.__aG;_.__ei=1,s.begin(e.eventTarget,t=>{s.clear();let a=-1;(a=_.__eg?r+e.pageY-t.pageY:r+t.pageX-e.pageX)<0?a=0:a>d&&(a=d);let l=a/d,g=_.__eh(l),n=+g;if(e.params.end){let e=+_.__aP;n>=e?(_.__aP!=h&&(h=_.__el(e)),c=_.__em(g),i.node("right_"+_.id).focus()):(_.__aP!=c&&(c=_.__em(e)),h=_.__el(g),i.node("left_"+_.id).focus())}else{let e=+_.__aG;n<=e?(_.__aG!=c&&(c=_.__em(e)),h=_.__el(g),i.node("left_"+_.id).focus()):(_.__aG!=h&&(h=_.__el(e)),c=_.__em(g),i.node("right_"+_.id).focus())}},()=>{_.__en(h,c),_.__ee=!0,setTimeout(_.wrapAsync(()=>{delete _.__ee}),20),delete _.__ei})},"__eo<keydown>"(e){let _,t=this,a=t.__dn;if(!t.__ei&&(37==e.keyCode||40==e.keyCode?(e.preventDefault(),a=-a,_=!0):39!=e.keyCode&&38!=e.keyCode||(e.preventDefault(),_=!0),_)){let _=t.__aP,s=+_,l=t.__aG,d=+l,{start:r}=e.params;r?s+=a:d+=a,s>d?(r?i.node("right_"+t.id).focus():i.node("left_"+t.id).focus(),d!=+_&&(_=t.__el(d)),s!=+l&&(l=t.__em(s))):r?_=t.__el(s):l=t.__em(d),t.__en(_,l)}},"__D<contextmenu>"(e){e.preventDefault()}})});