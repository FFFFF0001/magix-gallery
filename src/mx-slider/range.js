define("mx-slider/range",["magix","$","../mx-dragdrop/index","./style"],function(e,t,_){var a=e("magix"),i=e("$"),s=e("../mx-dragdrop/index");e("./style"),_.exports=a.View.extend({tmpl:{html:'<div mx-guid="g0" class="eF<%if($$.vertical){%> eH<%}else{%> eG<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"><div mx-guid="g1" class="eI<%if($$.vertical){%> eK<%}else{%> eJ<%}%>"></div><div mx-guid="g2" class="eL<%if($$.vertical){%> eN<%}else{%> eM<%}%>" mx-mousedown="__dW({start:true})" id="left_<%=$$.viewId%>"></div><div mx-guid="g3" class="eO<%if($$.vertical){%> eU<%}else{%> eT<%}%>" id="leftl_<%=$$.viewId%>"></div><div mx-guid="g4" class="eL<%if($$.vertical){%> eN<%}else{%> eM<%}%>" mx-mousedown="__dW({end:true})" id="right_<%=$$.viewId%>"></div><div mx-guid="g5" class="eO<%if($$.vertical){%> eU<%}else{%> eT<%}%>" id="rightl_<%=$$.viewId%>"></div><div mx-guid="g6" class="<%if($$.vertical){%>eR<%}else{%>eP<%}%>">7</div><div mx-guid="g7" class="<%if($$.vertical){%>eS<%}else{%>eQ<%}%>">8</div></div>',subs:[{keys:["vertical","height","width"],path:'div[mx-guid="g0"]',attr:'class="eF<%if($$.vertical){%> eH<%}else{%> eG<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-contextmenu"},{n:"style"}]},{keys:["vertical"],path:'div[mx-guid="g1"]',attr:'class="eI<%if($$.vertical){%> eK<%}else{%> eJ<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical","viewId"],path:'div[mx-guid="g2"]',attr:'class="eL<%if($$.vertical){%> eN<%}else{%> eM<%}%>" mx-mousedown="__dW({start:true})" id="left_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-mousedown"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g3"]',attr:'class="eO<%if($$.vertical){%> eU<%}else{%> eT<%}%>" id="leftl_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g4"]',attr:'class="eL<%if($$.vertical){%> eN<%}else{%> eM<%}%>" mx-mousedown="__dW({end:true})" id="right_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-mousedown"},{n:"id",p:1}]},{keys:["vertical","viewId"],path:'div[mx-guid="g5"]',attr:'class="eO<%if($$.vertical){%> eU<%}else{%> eT<%}%>" id="rightl_<%=$$.viewId%>"',attrs:[{n:"class",p:1,f:"className"},{n:"id",p:1}]},{keys:["vertical","min"],path:'div[mx-guid="g6"]',tmpl:"<%=$$.min%>",s:"7",attr:'class="<%if($$.vertical){%>eR<%}else{%>eP<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"},{keys:["vertical","max"],path:'div[mx-guid="g7"]',tmpl:"<%=$$.max%>",s:"8",attr:'class="<%if($$.vertical){%>eS<%}else{%>eQ<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"}]},init:function(e){var t=this,_=i("#"+t.id);_.addClass("eE"),t.assign(e);var a=function(e){if(!t.__dR&&!t.__bR){var a=_.offset(),i=t.__dS(),s=-1,d=((s=t.__dT?i.rMax-e.pageY+a.top:e.pageX-a.left)-i.half)/i.max,r=t.__dU(d),l=+t.__aG,v=+t.__ax;Math.abs(l-r)<Math.abs(v-r)?(t.__dX(r),t.__aG=r,t.__u()):(t.__dY(r),t.__ax=r,t.__u())}};_.on("click",a),t.on("destroy",function(){_.off("click",a)}),t.__h=_},assign:function(e){var t=this;t.__at=+e.width||340,t.__dV=+e.height||340,t.__E=+e.min||0,t.__F=+e.max||100,t.__dd=+e.step||1,t.__bR=e.disabled+""=="true",t.__dT=e.vertical+""=="true";var _=t.__dd+"",a=_.indexOf(".");a=a>=0?_.slice(a+1).length:0,t.__df=a;var i=e.value;return i?(i=(i+"").split(","),t.__aG=+i[0]||0,t.__ax=+i[1]||0):(t.__aG=0,t.__ax=0),!0},render:function(){var e=this;e.updater.digest({min:e.__E.toFixed(e.__df),max:e.__F.toFixed(e.__df),viewId:e.id,height:e.__dV,width:e.__at,vertical:e.__dT}),e.__h[e.__bR?"addClass":"removeClass"]("eV"),e.val([e.__aG,e.__ax])},__dS:function(){var e=this,t=e.__h.find(".eF"),_=e.__h.find(".eI"),a=i("#left_"+e.id),s=i("#right_"+e.id),d=e.__dT?t.height():t.width(),r=a.outerWidth()/2,l=d-2*r;return{rail:t,iLeftL:i("#leftl_"+e.id),iRightL:i("#rightl_"+e.id),tracker:_,iLeft:a,iRight:s,left:parseInt(a.css(e.__dT?"bottom":"left"),10),right:parseInt(s.css(e.__dT?"bottom":"left"),10),rMax:d,max:l,half:r}},__dX:function(e){var t=this;e=+e;var _=t.__F,a=t.__E;e>_?e=_:e<a&&(e=a);var i=(e-a)/(_-a),s=t.__dS(),d=i*s.max;t.__dT?s.iLeft.css({bottom:d}):s.iLeft.css({left:d}),e=t.__dU(i);var r=s.iLeftL;r.html(e);var l=d+s.half;if(t.__dT)l-=v=r.height()/2,r.css({bottom:l}),s.tracker.css({bottom:d+s.half}).height(s.right-d);else{var v=r.width()/2;l<v?l=0:l+v>s.rMax?l=s.rMax-2*v:l-=v,r.css({left:l}),s.tracker.css({left:d+s.half}).width(s.right-d)}return e},__dY:function(e){var t=this;e=+e;var _=t.__F,a=t.__E;e>_?e=_:e<a&&(e=a);var i=(e-a)/(_-a),s=t.__dS(),d=i*s.max;t.__dT?s.iRight.css({bottom:d}):s.iRight.css({left:d}),e=t.__dU(i);var r=s.iRightL;r.html(e);var l=d+s.half;if(t.__dT)l-=v=r.height()/2,r.css({bottom:l}),s.tracker.height(d-s.left);else{var v=r.width()/2;l<v?l=0:l+v>s.rMax?l=s.rMax-2*v:l-=v,r.css({left:l}),s.tracker.width(d-s.left)}return e},val:function(e){var t=this;if(e){var _=(e+"").split(","),a=+_[0]||0,i=+_[1]||0;a>i&&(a=(s=[i,a])[0],i=s[1]),t.__h.prop("value",[a,i]),a=t.__dX(a),i=t.__dY(i),t.__aG==a&&t.__ax==i||(t.__aG=a,t.__ax=i,t.__u())}return[+t.__aG,+t.__ax];var s},__dU:function(e){var t,_=this,a=_.__F,i=_.__E,s=_.__dd;return 0===e?t=i:1===e?t=a:(t=i+(a-i)*e,t=Math.round(t/s)*s),t=t.toFixed(_.__df)},__u:function(){var e=this,t=[+e.__aG,+e.__ax];this.__h.prop("value",t).trigger({type:"change",value:t,start:+e.__aG,end:+e.__ax})},"__dW<mousedown>":function(e){e.stopPropagation(),e.preventDefault();var t=this;if(!t.__bR){var _=i(e.eventTarget),a=_.outerWidth(),d=-1;d=t.__dT?_.parent().height()-a:_.parent().width()-a;var r=parseInt(_.css(t.__dT?"bottom":"left"),10),l=t.__aG,v=t.__ax;s.begin(e.eventTarget,function(_){s.clear();var a=-1;(a=t.__dT?r+e.pageY-_.pageY:r+_.pageX-e.pageX)<0?a=0:a>d&&(a=d);var i=a/d,n=t.__dU(i),c=+n;if(e.params.end){var h=+t.__aG;c>=h?(t.__aG!=l&&(l=t.__dX(h)),v=t.__dY(n)):(t.__aG!=v&&(v=t.__dY(h)),l=t.__dX(n))}else{var f=+t.__ax;c<=f?(t.__ax!=v&&(v=t.__dY(f)),l=t.__dX(n)):(t.__ax!=l&&(l=t.__dX(f)),v=t.__dY(n))}},function(){l==t.__aG&&t.__ax==v||(t.__aG=l,t.__ax=v,t.__u()),t.__dR=!0,setTimeout(t.wrapAsync(function(){delete t.__dR}),20)})}},"__D<contextmenu>":function(e){e.preventDefault()}})});