define("mx-slider/index",["magix","$","../mx-dragdrop/index","./style"],function(e,t,_){var a=e("magix"),i=e("$");e("./style");var s=e("../mx-dragdrop/index");_.exports=a.View.extend({tmpl:{html:'<div mx-guid="g0" class="_er<%if($$.vertical){%> _et<%}else{%> _es<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"><div mx-guid="g1" class="_eu<%if($$.vertical){%> _ew<%}else{%> _ev<%}%>"></div><div mx-guid="g2" class="_ex<%if($$.vertical){%> _ez<%}else{%> _ey<%}%>" mx-mousedown="__dX()"></div><div mx-guid="g3" class="_eA<%if($$.vertical){%> _eG<%}else{%> _eF<%}%>"></div><div mx-guid="g4" class="<%if($$.vertical){%>_eD<%}else{%>_eB<%}%>">5</div><div mx-guid="g5" class="<%if($$.vertical){%>_eE<%}else{%>_eC<%}%>">6</div></div>',subs:[{keys:["vertical","height","width"],path:'div[mx-guid="g0"]',attr:'class="_er<%if($$.vertical){%> _et<%}else{%> _es<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-contextmenu"},{n:"style"}]},{keys:["vertical"],path:'div[mx-guid="g1"]',attr:'class="_eu<%if($$.vertical){%> _ew<%}else{%> _ev<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g2"]',attr:'class="_ex<%if($$.vertical){%> _ez<%}else{%> _ey<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g3"]',attr:'class="_eA<%if($$.vertical){%> _eG<%}else{%> _eF<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical","min"],path:'div[mx-guid="g4"]',tmpl:"<%=$$.min%>",s:"5",attr:'class="<%if($$.vertical){%>_eD<%}else{%>_eB<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"},{keys:["vertical","max"],path:'div[mx-guid="g5"]',tmpl:"<%=$$.max%>",s:"6",attr:'class="<%if($$.vertical){%>_eE<%}else{%>_eC<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"}]},init:function(e){var t=this,_=i("#"+t.id);_.addClass("_eq"),t.assign(e);var a=function(e){if(!t.__dS&&!t.__bS){var a=_.offset(),i=t.__dT(),s=-1,d=((s=t.__dU?i.rMax-e.pageY+a.top:e.pageX-a.left)-i.half)/i.max,r=t.__dV(d);t.val(r)}};_.on("click",a),t.on("destroy",function(){_.off("click",a)}),t.__h=_},assign:function(e){var t=this;t.__cO=+e.width||340,t.__dW=+e.height||340,t.__E=+e.min||0,t.__F=+e.max||100,t.__de=+e.step||1,t.__bS=e.disabled+""=="true",t.__dU=e.vertical+""=="true";var _=t.__de+"",a=_.indexOf(".");return a=a>=0?_.slice(a+1).length:0,t.__dg=a,t.__cd=+e.value||0,!0},render:function(){var e=this;e.updater.digest({min:e.__E.toFixed(e.__dg),max:e.__F.toFixed(e.__dg),width:e.__cO,height:e.__dW,vertical:e.__dU}),e.__h[e.__bS?"addClass":"removeClass"]("_eH"),e.val(e.__cd)},__dT:function(){var e=this,t=e.__h.find("._er"),_=e.__h.find("._eu"),a=e.__h.find("._ex"),i=e.__h.find("._eA"),s=a.outerWidth()/2,d=e.__dU?t.height():t.width();return{rail:t,pLabel:i,tracker:_,indicator:a,rMax:d,max:d-2*s,half:s}},val:function(e,t){var _=this,a=+e;if(a||0===a){_.__h.prop("value",a);var i=_.__F,s=_.__E;a>i?a=i:a<s&&(a=s);var d=(a-s)/(i-s),r=_.__dT(),l=d*r.max;_.__dU?r.indicator.css({bottom:l}):r.indicator.css({left:l}),e=_.__dV(d);var c=r.pLabel;c.html(e);var n=l+r.half;if(_.__dU)n-=v=c.height()/2,c.css({bottom:n});else{var v=c.width()/2;n<v?n=0:n+v>r.rMax?n=r.rMax-2*v:n-=v,c.css({left:n})}_.__dU?r.tracker.height(l+r.half):r.tracker.width(l+r.half),t||(_.__cd!=e&&_.__u(e),_.__cd=e)}return+_.__cd},__dV:function(e){var t,_=this,a=_.__F,i=_.__E,s=_.__de;return 0===e?t=i:1===e?t=a:(t=i+(a-i)*e,t=Math.round(t/s)*s),t=t.toFixed(_.__dg)},__u:function(e){this.__h.prop("value",+e).trigger({type:"change",value:+e})},"__dX<mousedown>":function(e){e.stopPropagation(),e.preventDefault();var t=this;if(!t.__bS){var _=i(e.eventTarget),a=_.outerWidth(),d=-1;d=t.__dU?_.parent().height()-a:_.parent().width()-a;var r=parseInt(_.css(t.__dU?"bottom":"left"),10),l=t.__cd;s.begin(e.eventTarget,function(_){s.clear();var a=-1;(a=t.__dU?r+e.pageY-_.pageY:r+_.pageX-e.pageX)<0?a=0:a>d&&(a=d);var i=a/d;t.val(l=t.__dV(i),!0)},function(){t.__cd!=l&&(t.__cd=l,t.__u(l)),t.__dS=!0,setTimeout(t.wrapAsync(function(){delete t.__dS}),20)})}},"__D<contextmenu>":function(e){e.preventDefault()}})});