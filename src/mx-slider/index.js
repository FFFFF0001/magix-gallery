define("mx-slider/index",["magix","$","../mx-dragdrop/index","./style"],function(e,t,_){var i=e("magix"),a=e("$");e("./style");var s=e("../mx-dragdrop/index");_.exports=i.View.extend({tmpl:{html:'<div mx-guid="g0" class="_et<%if($$.vertical){%> _ev<%}else{%> _eu<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"><div mx-guid="g1" class="_ew<%if($$.vertical){%> _ey<%}else{%> _ex<%}%>"></div><div mx-guid="g2" class="_ez<%if($$.vertical){%> _eB<%}else{%> _eA<%}%>" mx-mousedown="__dZ()"></div><div mx-guid="g3" class="_eC<%if($$.vertical){%> _eI<%}else{%> _eH<%}%>"></div><div mx-guid="g4" class="<%if($$.vertical){%>_eF<%}else{%>_eD<%}%>">5</div><div mx-guid="g5" class="<%if($$.vertical){%>_eG<%}else{%>_eE<%}%>">6</div></div>',subs:[{keys:["vertical","height","width"],path:'div[mx-guid="g0"]',attr:'class="_et<%if($$.vertical){%> _ev<%}else{%> _eu<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-contextmenu"},{n:"style"}]},{keys:["vertical"],path:'div[mx-guid="g1"]',attr:'class="_ew<%if($$.vertical){%> _ey<%}else{%> _ex<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g2"]',attr:'class="_ez<%if($$.vertical){%> _eB<%}else{%> _eA<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g3"]',attr:'class="_eC<%if($$.vertical){%> _eI<%}else{%> _eH<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical","min"],path:'div[mx-guid="g4"]',tmpl:"<%=$$.min%>",s:"5",attr:'class="<%if($$.vertical){%>_eF<%}else{%>_eD<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"},{keys:["vertical","max"],path:'div[mx-guid="g5"]',tmpl:"<%=$$.max%>",s:"6",attr:'class="<%if($$.vertical){%>_eG<%}else{%>_eE<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"}]},init:function(e){var t=this,_=a("#"+t.id);_.addClass("_es"),t.assign(e);var i=function(e){if(!t.__dU&&!t.__bS){var i=_.offset(),a=t.__dV(),s=-1,d=((s=t.__dW?a.rMax-e.pageY+i.top:e.pageX-i.left)-a.half)/a.max,r=t.__dX(d);t.val(r)}};_.on("click",i),t.on("destroy",function(){_.off("click",i)}),t.__h=_},assign:function(e){var t=this;t.__cQ=+e.width||340,t.__dY=+e.height||340,t.__E=+e.min||0,t.__F=+e.max||100,t.__dg=+e.step||1,t.__bS=e.disabled+""=="true",t.__dW=e.vertical+""=="true";var _=t.__dg+"",i=_.indexOf(".");return i=i>=0?_.slice(i+1).length:0,t.__di=i,t.__cf=+e.value||0,!0},render:function(){var e=this;e.updater.digest({min:e.__E.toFixed(e.__di),max:e.__F.toFixed(e.__di),width:e.__cQ,height:e.__dY,vertical:e.__dW}),e.__h[e.__bS?"addClass":"removeClass"]("_eJ"),e.val(e.__cf)},__dV:function(){var e=this,t=e.__h.find("._et"),_=e.__h.find("._ew"),i=e.__h.find("._ez"),a=e.__h.find("._eC"),s=i.outerWidth()/2,d=e.__dW?t.height():t.width();return{rail:t,pLabel:a,tracker:_,indicator:i,rMax:d,max:d-2*s,half:s}},val:function(e,t){var _=this,i=+e;if(i||0===i){_.__h.prop("value",i);var a=_.__F,s=_.__E;i>a?i=a:i<s&&(i=s);var d=(i-s)/(a-s),r=_.__dV(),l=d*r.max;_.__dW?r.indicator.css({bottom:l}):r.indicator.css({left:l}),e=_.__dX(d);var c=r.pLabel;c.html(e);var n=l+r.half;if(_.__dW)n-=v=c.height()/2,c.css({bottom:n});else{var v=c.width()/2;n<v?n=0:n+v>r.rMax?n=r.rMax-2*v:n-=v,c.css({left:n})}_.__dW?r.tracker.height(l+r.half):r.tracker.width(l+r.half),t||(_.__cf!=e&&_.__u(e),_.__cf=e)}return+_.__cf},__dX:function(e){var t,_=this,i=_.__F,a=_.__E,s=_.__dg;return 0===e?t=a:1===e?t=i:(t=a+(i-a)*e,t=Math.round(t/s)*s),t=t.toFixed(_.__di)},__u:function(e){this.__h.prop("value",+e).trigger({type:"change",value:+e})},"__dZ<mousedown>":function(e){e.stopPropagation(),e.preventDefault();var t=this;if(!t.__bS){var _=a(e.eventTarget),i=_.outerWidth(),d=-1;d=t.__dW?_.parent().height()-i:_.parent().width()-i;var r=parseInt(_.css(t.__dW?"bottom":"left"),10),l=t.__cf;s.begin(e.eventTarget,function(_){s.clear();var i=-1;(i=t.__dW?r+e.pageY-_.pageY:r+_.pageX-e.pageX)<0?i=0:i>d&&(i=d);var a=i/d;t.val(l=t.__dX(a),!0)},function(){t.__cf!=l&&(t.__cf=l,t.__u(l)),t.__dU=!0,setTimeout(t.wrapAsync(function(){delete t.__dU}),20)})}},"__D<contextmenu>":function(e){e.preventDefault()}})});