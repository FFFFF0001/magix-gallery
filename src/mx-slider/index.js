define("mx-slider/index",["magix","$","../mx-dragdrop/index","./style"],function(e,t,_){var i=e("magix"),a=e("$");e("./style");var s=e("../mx-dragdrop/index");_.exports=i.View.extend({tmpl:{html:'<div mx-guid="g0" class="_ew<%if($$.vertical){%> _ey<%}else{%> _ex<%}%>" mx-contextmenu="__E()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"><div mx-guid="g1" class="_ez<%if($$.vertical){%> _eB<%}else{%> _eA<%}%>"></div><div mx-guid="g2" class="_eC<%if($$.vertical){%> _eE<%}else{%> _eD<%}%>" mx-mousedown="__ej()"></div><div mx-guid="g3" class="_eF<%if($$.vertical){%> _eL<%}else{%> _eK<%}%>"></div><div mx-guid="g4" class="<%if($$.vertical){%>_eI<%}else{%>_eG<%}%>">5</div><div mx-guid="g5" class="<%if($$.vertical){%>_eJ<%}else{%>_eH<%}%>">6</div></div>',subs:[{keys:["vertical","height","width"],path:'div[mx-guid="g0"]',attr:'class="_ew<%if($$.vertical){%> _ey<%}else{%> _ex<%}%>" mx-contextmenu="__E()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-contextmenu"},{n:"style"}]},{keys:["vertical"],path:'div[mx-guid="g1"]',attr:'class="_ez<%if($$.vertical){%> _eB<%}else{%> _eA<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g2"]',attr:'class="_eC<%if($$.vertical){%> _eE<%}else{%> _eD<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g3"]',attr:'class="_eF<%if($$.vertical){%> _eL<%}else{%> _eK<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical","min"],path:'div[mx-guid="g4"]',tmpl:"<%=$$.min%>",s:"5",attr:'class="<%if($$.vertical){%>_eI<%}else{%>_eG<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"},{keys:["vertical","max"],path:'div[mx-guid="g5"]',tmpl:"<%=$$.max%>",s:"6",attr:'class="<%if($$.vertical){%>_eJ<%}else{%>_eH<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"}]},init:function(e){var t=this,_=a("#"+t.id);_.addClass("_ev"),t.assign(e);var i=function(e){if(!t.__ee&&!t.__cc){var i=_.offset(),a=t.__ef(),s=-1,r=((s=t.__eg?a.rMax-e.pageY+i.top:e.pageX-i.left)-a.half)/a.max,l=t.__eh(r);t.val(l)}};_.on("click",i),t.on("destroy",function(){_.off("click",i)}),t.__i=_},assign:function(e){var t=this;t.__da=+e.width||340,t.__ei=+e.height||340,t.__F=+e.min||0,t.__G=+e.max||100,t.__dr=+e.step||1,t.__cc=e.disabled+""=="true",t.__eg=e.vertical+""=="true";var _=t.__dr+"",i=_.indexOf(".");return i=i>=0?_.slice(i+1).length:0,t.__dt=i,t.__cq=+e.value||0,!0},render:function(){var e=this;e.updater.digest({min:e.__F.toFixed(e.__dt),max:e.__G.toFixed(e.__dt),width:e.__da,height:e.__ei,vertical:e.__eg}),e.__i[e.__cc?"addClass":"removeClass"]("_eM"),e.val(e.__cq)},__ef:function(){var e=this,t=e.__i.find("._ew"),_=e.__i.find("._ez"),i=e.__i.find("._eC"),a=e.__i.find("._eF"),s=i.outerWidth()/2,r=e.__eg?t.height():t.width();return{rail:t,pLabel:a,tracker:_,indicator:i,rMax:r,max:r-2*s,half:s}},val:function(e,t){var _=this,i=+e;if(i||0===i){_.__i.prop("value",i);var a=_.__G,s=_.__F;i>a?i=a:i<s&&(i=s);var r=(i-s)/(a-s),l=_.__ef(),c=r*l.max;_.__eg?l.indicator.css({bottom:c}):l.indicator.css({left:c}),e=_.__eh(r);var d=l.pLabel;d.html(e);var n=c+l.half;if(_.__eg)n-=v=d.height()/2,d.css({bottom:n});else{var v=d.width()/2;n<v?n=0:n+v>l.rMax?n=l.rMax-2*v:n-=v,d.css({left:n})}_.__eg?l.tracker.height(c+l.half):l.tracker.width(c+l.half),t||(_.__cq!=e&&_.__v(e),_.__cq=e)}return+_.__cq},__eh:function(e){var t,_=this,i=_.__G,a=_.__F,s=_.__dr;return 0===e?t=a:1===e?t=i:(t=a+(i-a)*e,t=Math.round(t/s)*s),t=t.toFixed(_.__dt)},__v:function(e){this.__i.prop("value",+e).trigger({type:"change",value:+e})},"__ej<mousedown>":function(e){e.stopPropagation(),e.preventDefault();var t=this;if(!t.__cc){var _=a(e.eventTarget),i=_.outerWidth(),r=-1;r=t.__eg?_.parent().height()-i:_.parent().width()-i;var l=parseInt(_.css(t.__eg?"bottom":"left"),10),c=t.__cq;s.begin(e.eventTarget,function(_){s.clear();var i=-1;(i=t.__eg?l+e.pageY-_.pageY:l+_.pageX-e.pageX)<0?i=0:i>r&&(i=r);var a=i/r;t.val(c=t.__eh(a),!0)},function(){t.__cq!=c&&(t.__cq=c,t.__v(c)),t.__ee=!0,setTimeout(t.wrapAsync(function(){delete t.__ee}),20)})}},"__E<contextmenu>":function(e){e.preventDefault()}})});