define("mx-slider/index",["magix","$","../mx-dragdrop/index","./style"],(e,t,_)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=e("magix"),a=e("$");e("./style");let l=e("../mx-dragdrop/index");_.exports=i.View.extend({tmpl:{html:'<div mx-guid="g0" class="_ex<%if($$.vertical){%> _ez<%}else{%> _ey<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"><div mx-guid="g1" class="_eA<%if($$.vertical){%> _eC<%}else{%> _eB<%}%>"></div><div mx-guid="g2" class="_eD<%if($$.vertical){%> _eF<%}else{%> _eE<%}%>" mx-mousedown="__ek()"></div><div mx-guid="g3" class="_eG<%if($$.vertical){%> _eM<%}else{%> _eL<%}%>"></div><div mx-guid="g4" class="<%if($$.vertical){%>_eJ<%}else{%>_eH<%}%>">5</div><div mx-guid="g5" class="<%if($$.vertical){%>_eK<%}else{%>_eI<%}%>">6</div></div>',subs:[{keys:["vertical","height","width"],path:'div[mx-guid="g0"]',attr:'class="_ex<%if($$.vertical){%> _ez<%}else{%> _ey<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-contextmenu"},{n:"style"}]},{keys:["vertical"],path:'div[mx-guid="g1"]',attr:'class="_eA<%if($$.vertical){%> _eC<%}else{%> _eB<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g2"]',attr:'class="_eD<%if($$.vertical){%> _eF<%}else{%> _eE<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g3"]',attr:'class="_eG<%if($$.vertical){%> _eM<%}else{%> _eL<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical","min"],path:'div[mx-guid="g4"]',tmpl:"<%=$$.min%>",s:"5",attr:'class="<%if($$.vertical){%>_eJ<%}else{%>_eH<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"},{keys:["vertical","max"],path:'div[mx-guid="g5"]',tmpl:"<%=$$.max%>",s:"6",attr:'class="<%if($$.vertical){%>_eK<%}else{%>_eI<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"}]},init(e){let t=this,_=a("#"+t.id);_.addClass("_ew"),t.assign(e);let i=e=>{if(t.__ee||t.__bZ)return;let i=_.offset(),a=t.__ef(),l=-1,s=((l=t.__eg?a.rMax-e.pageY+i.top:e.pageX-i.left)-a.half)/a.max,d=t.__eh(s);t.val(d)},l=e=>{if(!t.__ei)if(37==e.keyCode||40==e.keyCode){e.preventDefault();let _=+t.__cm;_-=t.__dn,t.val(_)}else if(39==e.keyCode||38==e.keyCode){e.preventDefault();let _=+t.__cm;_+=t.__dn,t.val(_)}};_.on("click",i),_.on("keydown",l),t.on("destroy",()=>{_.off("click",i),_.off("keydown",l)}),t.__h=_},assign(e){let t=this;t.__cX=+e.width||340,t.__ej=+e.height||340,t.__E=+e.min||0,t.__F=+e.max||100,t.__dn=+e.step||1,t.__bZ=e.disabled+""=="true",t.__eg=e.vertical+""=="true";let _=t.__dn+"",i=_.indexOf(".");return i=i>=0?_.slice(i+1).length:0,t.__dp=i,t.__cm=+e.value||0,!0},render(){let e=this;e.updater.digest({min:e.__E.toFixed(e.__dp),max:e.__F.toFixed(e.__dp),width:e.__cX,height:e.__ej,vertical:e.__eg}),e.__h[e.__bZ?"addClass":"removeClass"]("_eN").prop("tabindex",e.__bZ?-1:0),e.val(e.__cm)},__ef(){let e=this,t=e.__h.find("._ex"),_=e.__h.find("._eA"),i=e.__h.find("._eD"),a=e.__h.find("._eG"),l=i.outerWidth()/2,s=e.__eg?t.height():t.width();return{rail:t,pLabel:a,tracker:_,indicator:i,rMax:s,max:s-2*l,half:l}},val(e,t){let _=this,i=+e;if(i||0===i){_.__h.prop("value",i);let a=_.__F,l=_.__E;i>a?i=a:i<l&&(i=l);let s=(i-l)/(a-l),d=_.__ef(),r=s*d.max;_.__eg?d.indicator.css({bottom:r}):d.indicator.css({left:r}),e=_.__eh(s);let c=d.pLabel;c.html(e);let h=r+d.half;if(_.__eg){h-=c.height()/2,c.css({bottom:h})}else{let e=c.width()/2;h<e?h=0:h+e>d.rMax?h=d.rMax-2*e:h-=e,c.css({left:h})}_.__eg?d.tracker.height(r+d.half):d.tracker.width(r+d.half),t||(_.__cm!=e&&_.__u(e),_.__cm=e)}return+_.__cm},__eh(e){let t,_=this.__F,i=this.__E,a=this.__dn;return 0===e?t=i:1===e?t=_:(t=i+(_-i)*e,t=Math.round(t/a)*a),t=t.toFixed(this.__dp)},__u(e){this.__h.prop("value",+e).trigger({type:"change",value:+e})},"__ek<mousedown>"(e){let t=this;if(t.__bZ)return;let _=a(e.eventTarget),i=_.outerWidth(),s=-1;s=t.__eg?_.parent().height()-i:_.parent().width()-i;let d=parseInt(_.css(t.__eg?"bottom":"left"),10),r=t.__cm;t.__ei=1,l.begin(e.eventTarget,_=>{l.clear();let i=-1;(i=t.__eg?d+e.pageY-_.pageY:d+_.pageX-e.pageX)<0?i=0:i>s&&(i=s);let a=i/s;t.val(r=t.__eh(a),!0)},()=>{t.__cm!=r&&(t.__cm=r,t.__u(r)),t.__ee=!0,setTimeout(t.wrapAsync(()=>{delete t.__ee}),20),delete t.__ei})},"__D<contextmenu>"(e){e.preventDefault()}})});