define("mx-slider/index",["magix","$","../mx-dragdrop/index","./style"],function(e,t,a){var i=e("magix"),_=e("$");e("./style");var s=e("../mx-dragdrop/index");a.exports=i.View.extend({tmpl:{html:'<div mx-guid="g0" class="eF<%if($$.vertical){%> eH<%}else{%> eG<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"><div mx-guid="g1" class="eI<%if($$.vertical){%> eK<%}else{%> eJ<%}%>"></div><div mx-guid="g2" class="eL<%if($$.vertical){%> eN<%}else{%> eM<%}%>" mx-mousedown="__dW()"></div><div mx-guid="g3" class="eO<%if($$.vertical){%> eU<%}else{%> eT<%}%>"></div><div mx-guid="g4" class="<%if($$.vertical){%>eR<%}else{%>eP<%}%>">5</div><div mx-guid="g5" class="<%if($$.vertical){%>eS<%}else{%>eQ<%}%>">6</div></div>',subs:[{keys:["vertical","height","width"],path:'div[mx-guid="g0"]',attr:'class="eF<%if($$.vertical){%> eH<%}else{%> eG<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-contextmenu"},{n:"style"}]},{keys:["vertical"],path:'div[mx-guid="g1"]',attr:'class="eI<%if($$.vertical){%> eK<%}else{%> eJ<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g2"]',attr:'class="eL<%if($$.vertical){%> eN<%}else{%> eM<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g3"]',attr:'class="eO<%if($$.vertical){%> eU<%}else{%> eT<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical","min"],path:'div[mx-guid="g4"]',tmpl:"<%=$$.min%>",s:"5",attr:'class="<%if($$.vertical){%>eR<%}else{%>eP<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"},{keys:["vertical","max"],path:'div[mx-guid="g5"]',tmpl:"<%=$$.max%>",s:"6",attr:'class="<%if($$.vertical){%>eS<%}else{%>eQ<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"}]},init:function(e){var t=this,a=_("#"+t.id);a.addClass("eE"),t.assign(e);var i=function(e){if(!t.__dR&&!t.__bR){var i=a.offset(),_=t.__dS(),s=-1,d=((s=t.__dT?_.rMax-e.pageY+i.top:e.pageX-i.left)-_.half)/_.max,r=t.__dU(d);t.val(r)}};a.on("click",i),t.on("destroy",function(){a.off("click",i)}),t.__h=a},assign:function(e){var t=this;t.__at=+e.width||340,t.__dV=+e.height||340,t.__E=+e.min||0,t.__F=+e.max||100,t.__dd=+e.step||1,t.__bR=e.disabled+""=="true",t.__dT=e.vertical+""=="true";var a=t.__dd+"",i=a.indexOf(".");return i=i>=0?a.slice(i+1).length:0,t.__df=i,t.__cc=+e.value||0,!0},render:function(){var e=this;e.updater.digest({min:e.__E.toFixed(e.__df),max:e.__F.toFixed(e.__df),width:e.__at,height:e.__dV,vertical:e.__dT}),e.__h[e.__bR?"addClass":"removeClass"]("eV"),e.val(e.__cc)},__dS:function(){var e=this,t=e.__h.find(".eF"),a=e.__h.find(".eI"),i=e.__h.find(".eL"),_=e.__h.find(".eO"),s=i.outerWidth()/2,d=e.__dT?t.height():t.width();return{rail:t,pLabel:_,tracker:a,indicator:i,rMax:d,max:d-2*s,half:s}},val:function(e,t){var a=this,i=+e;if(i||0===i){a.__h.prop("value",i);var _=a.__F,s=a.__E;i>_?i=_:i<s&&(i=s);var d=(i-s)/(_-s),r=a.__dS(),l=d*r.max;a.__dT?r.indicator.css({bottom:l}):r.indicator.css({left:l}),e=a.__dU(d);var c=r.pLabel;c.html(e);var n=l+r.half;if(a.__dT)n-=v=c.height()/2,c.css({bottom:n});else{var v=c.width()/2;n<v?n=0:n+v>r.rMax?n=r.rMax-2*v:n-=v,c.css({left:n})}a.__dT?r.tracker.height(l+r.half):r.tracker.width(l+r.half),t||(a.__cc!=e&&a.__u(e),a.__cc=e)}return+a.__cc},__dU:function(e){var t,a=this,i=a.__F,_=a.__E,s=a.__dd;return 0===e?t=_:1===e?t=i:(t=_+(i-_)*e,t=Math.round(t/s)*s),t=t.toFixed(a.__df)},__u:function(e){this.__h.prop("value",+e).trigger({type:"change",value:+e})},"__dW<mousedown>":function(e){e.stopPropagation(),e.preventDefault();var t=this;if(!t.__bR){var a=_(e.eventTarget),i=a.outerWidth(),d=-1;d=t.__dT?a.parent().height()-i:a.parent().width()-i;var r=parseInt(a.css(t.__dT?"bottom":"left"),10),l=t.__cc;s.begin(e.eventTarget,function(a){s.clear();var i=-1;(i=t.__dT?r+e.pageY-a.pageY:r+a.pageX-e.pageX)<0?i=0:i>d&&(i=d);var _=i/d;t.val(l=t.__dU(_),!0)},function(){t.__cc!=l&&(t.__cc=l,t.__u(l)),t.__dR=!0,setTimeout(t.wrapAsync(function(){delete t.__dR}),20)})}},"__D<contextmenu>":function(e){e.preventDefault()}})});