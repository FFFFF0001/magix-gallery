define("mx-slider/index",["magix","$","../mx-dragdrop/index","./style"],function(e,_,t){var i=e("magix"),a=e("$");e("./style");var s=e("../mx-dragdrop/index");t.exports=i.View.extend({tmpl:{html:'<div mx-guid="g0" class="_ew<%if($$.vertical){%> _ey<%}else{%> _ex<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"><div mx-guid="g1" class="_ez<%if($$.vertical){%> _eB<%}else{%> _eA<%}%>"></div><div mx-guid="g2" class="_eC<%if($$.vertical){%> _eE<%}else{%> _eD<%}%>" mx-mousedown="__ei()"></div><div mx-guid="g3" class="_eF<%if($$.vertical){%> _eL<%}else{%> _eK<%}%>"></div><div mx-guid="g4" class="<%if($$.vertical){%>_eI<%}else{%>_eG<%}%>">5</div><div mx-guid="g5" class="<%if($$.vertical){%>_eJ<%}else{%>_eH<%}%>">6</div></div>',subs:[{keys:["vertical","height","width"],path:'div[mx-guid="g0"]',attr:'class="_ew<%if($$.vertical){%> _ey<%}else{%> _ex<%}%>" mx-contextmenu="__D()" style="<%if($$.vertical){%>height:<%=$$.height%><%}else{%>width:<%=$$.width%><%}%>px"',attrs:[{n:"class",p:1,f:"className"},{n:"mx-contextmenu"},{n:"style"}]},{keys:["vertical"],path:'div[mx-guid="g1"]',attr:'class="_ez<%if($$.vertical){%> _eB<%}else{%> _eA<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g2"]',attr:'class="_eC<%if($$.vertical){%> _eE<%}else{%> _eD<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical"],path:'div[mx-guid="g3"]',attr:'class="_eF<%if($$.vertical){%> _eL<%}else{%> _eK<%}%>"',attrs:[{n:"class",p:1,f:"className"}]},{keys:["vertical","min"],path:'div[mx-guid="g4"]',tmpl:"<%=$$.min%>",s:"5",attr:'class="<%if($$.vertical){%>_eI<%}else{%>_eG<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"},{keys:["vertical","max"],path:'div[mx-guid="g5"]',tmpl:"<%=$$.max%>",s:"6",attr:'class="<%if($$.vertical){%>_eJ<%}else{%>_eH<%}%>"',attrs:[{n:"class",p:1,f:"className"}],mask:"21"}]},init:function(e){var _=this,t=a("#"+_.id);t.addClass("_ev"),_.assign(e);var i=function(e){if(!_.__ed&&!_.__cb){var i=t.offset(),a=_.__ee(),s=-1,r=((s=_.__ef?a.rMax-e.pageY+i.top:e.pageX-i.left)-a.half)/a.max,l=_.__eg(r);_.val(l)}};t.on("click",i),_.on("destroy",function(){t.off("click",i)}),_.__h=t},assign:function(e){var _=this;_.__d_=+e.width||340,_.__eh=+e.height||340,_.__E=+e.min||0,_.__F=+e.max||100,_.__dq=+e.step||1,_.__cb=e.disabled+""=="true",_.__ef=e.vertical+""=="true";var t=_.__dq+"",i=t.indexOf(".");return i=i>=0?t.slice(i+1).length:0,_.__ds=i,_.__cp=+e.value||0,!0},render:function(){var e=this;e.updater.digest({min:e.__E.toFixed(e.__ds),max:e.__F.toFixed(e.__ds),width:e.__d_,height:e.__eh,vertical:e.__ef}),e.__h[e.__cb?"addClass":"removeClass"]("_eM"),e.val(e.__cp)},__ee:function(){var e=this,_=e.__h.find("._ew"),t=e.__h.find("._ez"),i=e.__h.find("._eC"),a=e.__h.find("._eF"),s=i.outerWidth()/2,r=e.__ef?_.height():_.width();return{rail:_,pLabel:a,tracker:t,indicator:i,rMax:r,max:r-2*s,half:s}},val:function(e,_){var t=this,i=+e;if(i||0===i){t.__h.prop("value",i);var a=t.__F,s=t.__E;i>a?i=a:i<s&&(i=s);var r=(i-s)/(a-s),l=t.__ee(),c=r*l.max;t.__ef?l.indicator.css({bottom:c}):l.indicator.css({left:c}),e=t.__eg(r);var d=l.pLabel;d.html(e);var n=c+l.half;if(t.__ef)n-=v=d.height()/2,d.css({bottom:n});else{var v=d.width()/2;n<v?n=0:n+v>l.rMax?n=l.rMax-2*v:n-=v,d.css({left:n})}t.__ef?l.tracker.height(c+l.half):l.tracker.width(c+l.half),_||(t.__cp!=e&&t.__u(e),t.__cp=e)}return+t.__cp},__eg:function(e){var _,t=this,i=t.__F,a=t.__E,s=t.__dq;return 0===e?_=a:1===e?_=i:(_=a+(i-a)*e,_=Math.round(_/s)*s),_=_.toFixed(t.__ds)},__u:function(e){this.__h.prop("value",+e).trigger({type:"change",value:+e})},"__ei<mousedown>":function(e){e.stopPropagation(),e.preventDefault();var _=this;if(!_.__cb){var t=a(e.eventTarget),i=t.outerWidth(),r=-1;r=_.__ef?t.parent().height()-i:t.parent().width()-i;var l=parseInt(t.css(_.__ef?"bottom":"left"),10),c=_.__cp;s.begin(e.eventTarget,function(t){s.clear();var i=-1;(i=_.__ef?l+e.pageY-t.pageY:l+t.pageX-e.pageX)<0?i=0:i>r&&(i=r);var a=i/r;_.val(c=_.__eg(a),!0)},function(){_.__cp!=c&&(_.__cp=c,_.__u(c)),_.__ed=!0,setTimeout(_.wrapAsync(function(){delete _.__ed}),20)})}},"__D<contextmenu>":function(e){e.preventDefault()}})});