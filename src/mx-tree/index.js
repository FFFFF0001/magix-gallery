define("mx-tree/index",["magix","./branch"],(e,t,i)=>{e("./branch");let p=e("magix");p.applyStyle("_O",'._fy{padding-left:15px}._fz{line-height:22px;padding:0 4px;position:relative;border-left:1px solid #e6e6e6}._fz:before{content:"";position:absolute;border-top:1px solid #e6e6e6;width:12px;left:0;top:10px}._fA{width:14px;height:14px;float:left;text-align:center;font-weight:800;margin-left:-11px;margin-top:-2px;position:relative;z-index:2}._fB{display:inline-block;background-color:#fff;width:10px;height:10px;line-height:6px;border:1px solid #e6e6e6;font-size:11px}._fC{margin-left:10px}._fD{padding:0}._fE{border-left-color:transparent}._fE:after{border-left:1px solid #e6e6e6;top:-2px}._fE:after,._fF:after{content:"";position:absolute;left:-1px;width:1px;height:13px}._fF:after{border-left:1px solid #fff;top:-3px}._fG{padding:1px 3px;line-height:1}._fH{margin:2px 2px 0 0}'),i.exports=p.View.extend({tmpl:{html:'<div mx-guid="g0" id="tree_<%=$$.id%>" mx-view="mx-tree/branch?valueKey=<%!$eu($$.valueKey)%>&textKey=<%!$eu($$.textKey)%>&parentKey=<%!$eu($$.parentKey)%>&fromTop=<%@true%>&list=<%@$$.list%>"></div>',subs:[{keys:["id","valueKey","textKey","parentKey","list"],path:'div[mx-guid="g0"]',attr:'id="tree_<%=$$.id%>" mx-view="mx-tree/branch?valueKey=<%!$eu($$.valueKey)%>&textKey=<%!$eu($$.textKey)%>&parentKey=<%!$eu($$.parentKey)%>&fromTop=<%@true%>&list=<%@$$.list%>"',attrs:[{n:"id",p:1},{n:"mx-view",v:1}]}]},init(e){this.__c=e},render:function(){let e=this.__c,t=e.valueKey||"id",i=e.parentKey||"pId",r=((e,t,i)=>{let r={},l={},n=[];for(let x=0,d=e.length;x<d;x++){let d=p.mix({},e[x]);r[d[t]]=d,l[d[t]]&&(d.children=l[d[t]]),p.has(d,i)&&""!==d[i]?r[d[i]]?(r[d[i]].children||(r[d[i]].children=[])).push(d):l[d[i]]?l[d[i]].push(d):l[d[i]]=[d]:n.push(d)}return{list:n,map:r}})(e.list,t,i);this.updater.digest({id:this.id,valueKey:t,parentKey:i,textKey:e.textKey||"text",list:r.list})}})});