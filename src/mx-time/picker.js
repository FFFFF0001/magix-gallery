define("mx-time/picker",["magix","$","../mx-monitor/index","./index"],function(i,e,t){i("./index");var _=i("magix"),d=i("$"),a=i("../mx-monitor/index");_.applyStyle("_L","._fo{position:absolute;display:none;border:1px solid #e6e6e6;padding:10px 0;border-radius:4px;background-color:#fff;z-index:1;width:271px}._fp{margin:0 10px}._fq{border-top:1px solid #e6e6e6;margin:10px 10px 0;padding:10px 0 0}"),t.exports=_.View.extend({tmpl:{html:'<div mx-guid="g0" class="_fo" id="wrapper_<%=$$.viewId%>"><div mx-guid="g1" mx-view="mx-time/index?time=<%!$eu($$.time)%>&type=<%!$eu($$.types)%>" id="time_<%=$$.viewId%>" class="_fp _ah" mx-change="__fN()"></div><div class="_fq"><button class="_am _an" mx-click="__a({enter:true})">确定</button><button class="_am _s" mx-click="__a()">取消</button></div></div>',subs:[{keys:["viewId"],path:'div[mx-guid="g0"]',attr:'id="wrapper_<%=$$.viewId%>"',attrs:[{n:"id",p:1}]},{keys:["time","types","viewId"],path:'div[mx-guid="g1"]',attr:'mx-view="mx-time/index?time=<%!$eu($$.time)%>&type=<%!$eu($$.types)%>" id="time_<%=$$.viewId%>"',attrs:[{n:"mx-view",v:1},{n:"id",p:1}]}]},init:function(i){var e=this;a.__d();var t=d("#"+e.id),_=function(){e.__e()};e.on("destroy",function(){a.__f(e),a.__g(),d("#tcnt_"+e.id).remove(),t.off("click",_)}),t.on("click",_),e.__h=t,t.prop("autocomplete","off");var n=t.val();if(!n){var r=new Date;n=r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()}i.time=n,e.__fK=n,e.__fL=n,e.updater.set(i)},__i:function(i){var e=this;return _.inside(i,e.id)||_.inside(i,"tcnt_"+e.id)},render:function(){var i=this;d('<div id="tcnt_'+i.id+'"/>').insertAfter(i.__h);var e=i.updater;e.to("tcnt_"+i.id),e.digest({viewId:i.id})},__e:function(){var i=this;if(!i.__fM){var e=d("#wrapper_"+i.id),t=i.__h;i.__fM=!0,a.__k(i),e.show();var _=t.offset(),n=void 0,r=void 0,o=i.updater.get();switch(o.placement){case"top":r=_.top-e.outerHeight()-5;break;default:r=_.top+t.outerHeight()+5}switch(o.align){case"right":n=_.left+t.outerWidth()-e.outerWidth();break;default:n=_.left}e.offset({left:n,top:r})}},__a:function(){var i=this;if(i.__fM){var e=d("#wrapper_"+i.id);i.__fM=!1,e.hide(),a.__f(i),i.__fK!=i.__fL&&(i.__fK=i.__fL,d("#time_"+i.id).invokeView("val",[i.__fK]))}},"__fN<change>":function(i){this.__fK=i.time},"__a<click>":function(i){var e=this;i.params.enter&&(e.__fL=e.__fK,e.__h.val(e.__fK).trigger("change")),e.__a()}})});