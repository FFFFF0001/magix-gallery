define("mx-time/index",["magix","$"],(e,t,_)=>{let i=e("magix"),s=e("$");i.applyStyle("_L","._fq{width:58px;float:left;overflow:hidden}._fr{font-size:30px;height:50px;text-align:center;margin-bottom:10px}._fs{width:28px;height:28px;padding:0}._ft{font-size:27px;float:left;line-height:32px;margin-top:8px;font-weight:bolder;display:inline-block;width:30px;text-align:center}");let a=e=>{if(!e){let t=new Date;e=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}let t=e.split(":");if(3!=t.length)throw new Error("bad time:"+e);return{__cw:parseInt(t[0],10)||0,__fW:parseInt(t[1],10)||0,__fX:parseInt(t[2],10)||0}},d=e=>e<10?"0"+e:e;_.exports=i.View.extend({tmpl:{html:'<div class="_fq"><input mx-guid="g0" class="_ap _fr" value="<%=$$.format($$.time[\'__cw\'])%>" <%if($$.types[\'__cw\']){%> mx-change="__g_({type:\'__cw\'})" <%}else{%> disabled<%}%> maxlength="2" mx-keydown="__dC({type:\'__cw\'})" autocomplete="off"><button mx-guid="g1" type="button" class="_an _fs _aa" <%if($$.types[\'__cw\']){%> mx-click="__fZ({type:\'__cw\'})" mx-mousedown="__dB({type:\'__cw\'})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe6df;</i></button><button mx-guid="g2" type="button" class="_an _fs _ab" <%if($$.types[\'__cw\']){%> mx-click="__fZ({type:\'__cw\',inc:1})" mx-mousedown="__dB({type:\'__cw\',inc:1})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe661;</i></button></div><span class="_ft">:</span><div class="_fq"><input mx-guid="g3" class="_ap _fr" value="<%=$$.format($$.time[\'__fW\'])%>" <%if($$.types[\'__fW\']){%> mx-change="__g_({type:\'__fW\'})" <%}else{%> disabled<%}%> maxlength="2" mx-keydown="__dC({type:\'__fW\'})" autocomplete="off"><button mx-guid="g4" type="button" class="_an _fs _aa" <%if($$.types[\'__fW\']){%> mx-click="__fZ({type:\'__fW\'})" mx-mousedown="__dB({type:\'__fW\'})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe6df;</i></button><button mx-guid="g5" type="button" class="_an _fs _ab" <%if($$.types[\'__fW\']){%> mx-click="__fZ({type:\'__fW\',inc:1})" mx-mousedown="__dB({type:\'__fW\',inc:1})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe661;</i></button></div><span class="_ft">:</span><div class="_fq"><input mx-guid="g6" class="_ap _fr" value="<%=$$.format($$.time[\'__fX\'])%>" <%if($$.types[\'__fX\']){%> mx-change="__g_({type:\'__fX\'})" <%}else{%> disabled<%}%> maxlength="2" mx-keydown="__dC({type:\'__fX\'})" autocomplete="off"><button mx-guid="g7" type="button" class="_an _fs _aa" <%if($$.types[\'__fX\']){%> mx-click="__fZ({type:\'__fX\'})" mx-mousedown="__dB({type:\'__fX\'})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe6df;</i></button><button mx-guid="g8" type="button" class="_an _fs _ab" <%if($$.types[\'__fX\']){%> mx-click="__fZ({type:\'__fX\',inc:1})" mx-mousedown="__dB({type:\'__fX\',inc:1})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe661;</i></button></div>',subs:[{keys:["time","types"],path:'input[mx-guid="g0"]',attr:"value=\"<%=$$.format($$.time['__cw'])%>\" <%if($$.types['__cw']){%> mx-change=\"__g_({type:'__cw'})\" <%}else{%> disabled<%}%>",attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g1"]',attr:"<%if($$.types['__cw']){%> mx-click=\"__fZ({type:'__cw'})\" mx-mousedown=\"__dB({type:'__cw'})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g2"]',attr:"<%if($$.types['__cw']){%> mx-click=\"__fZ({type:'__cw',inc:1})\" mx-mousedown=\"__dB({type:'__cw',inc:1})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["time","types"],path:'input[mx-guid="g3"]',attr:"value=\"<%=$$.format($$.time['__fW'])%>\" <%if($$.types['__fW']){%> mx-change=\"__g_({type:'__fW'})\" <%}else{%> disabled<%}%>",attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g4"]',attr:"<%if($$.types['__fW']){%> mx-click=\"__fZ({type:'__fW'})\" mx-mousedown=\"__dB({type:'__fW'})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g5"]',attr:"<%if($$.types['__fW']){%> mx-click=\"__fZ({type:'__fW',inc:1})\" mx-mousedown=\"__dB({type:'__fW',inc:1})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["time","types"],path:'input[mx-guid="g6"]',attr:"value=\"<%=$$.format($$.time['__fX'])%>\" <%if($$.types['__fX']){%> mx-change=\"__g_({type:'__fX'})\" <%}else{%> disabled<%}%>",attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g7"]',attr:"<%if($$.types['__fX']){%> mx-click=\"__fZ({type:'__fX'})\" mx-mousedown=\"__dB({type:'__fX'})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g8"]',attr:"<%if($$.types['__fX']){%> mx-click=\"__fZ({type:'__fX',inc:1})\" mx-mousedown=\"__dB({type:'__fX',inc:1})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]}]},init(e){let t=a(e.time),_=(e=>{e||(e="all");let t={__cw:!0,__fW:!0,__fX:!0},_={hour:"__cw",minute:"__fW",second:"__fX"};if("all"!=e)for(let i in _)-1===e.indexOf(i)&&delete t[_[i]];return t})(e.type);this.updater.set({format:d,time:t,types:_})},render(){this.updater.digest()},val(e){let t=this.updater;if(e){let _=a(e);t.digest({time:_})}return t.get("time")},__fY(e,t){let _=this.updater.get("time"),i="__cw"==e?23:59;t?_[e]++:_[e]--,_[e]>i?_[e]=0:_[e]<0&&(_[e]=i),this.updater.digest({time:_})},__u(){let e=s("#"+this.id),t=this.updater.get("time");e.trigger({type:"change",time:d(t.__cw)+":"+d(t.__fW)+":"+d(t.__fX)})},"__fZ<click>"(e){let t=this;if(!t.__dy){let _=e.params;t.__fY(_.type,_.inc),t.__u()}},"__g_<change>"(e){e.stopPropagation();let t=e.params.type,_="__cw"==t?23:59,i=e.eventTarget,s=i.value,a=parseInt(s,10),n=this.updater.get("time");a||0===a?(a<0?a=0:a>_&&(a=_),a!==n[t]?(n[t]=a,this.updater.digest({time:n}),this.__u()):i.value=d(a)):i.value=d(n[t])},"__dB<mousedown>"(e){let t=this,_=e.params;t.__dz=setTimeout(t.wrapAsync(()=>{t.__dA=setInterval(t.wrapAsync(()=>{t.__dy=!0,t.__fY(_.type,_.inc)}),50)}),300)},"__dC<keydown>"(e){if(38==e.keyCode||40==e.keyCode){e.preventDefault();let t=this;t.__fY(e.params.type,38==e.keyCode),clearTimeout(t.__ga),t.__ga=setTimeout(t.wrapAsync(()=>{t.__u()}),100)}},"$doc<mouseup>"(){let e=this;clearTimeout(e.__dz),clearInterval(e.__dA),setTimeout(e.wrapAsync(()=>{e.__dy&&e.__u(),delete e.__dy}),0)}})});