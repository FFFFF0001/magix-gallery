define("mx-time/index",["magix","$"],function(e,t,_){var i=e("magix"),n=e("$");i.applyStyle("_K","._fp{width:58px;float:left;overflow:hidden}._fq{font-size:30px;height:50px;text-align:center;margin-bottom:10px}._fr{width:28px;height:28px;padding:0}._fs{font-size:27px;float:left;line-height:32px;margin-top:8px;font-weight:bolder;display:inline-block;width:30px;text-align:center}");var a=function(e){if(!e){var t=new Date;e=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}var _=e.split(":");if(3!=_.length)throw new Error("bad time:"+e);return{__cz:parseInt(_[0],10)||0,__fS:parseInt(_[1],10)||0,__fT:parseInt(_[2],10)||0}},s=function(e){e||(e="all");var t={__cz:!0,__fS:!0,__fT:!0},_={hour:"__cz",minute:"__fS",second:"__fT"};if("all"!=e)for(var i in _)-1===e.indexOf(i)&&delete t[_[i]];return t},d=function(e){return e<10?"0"+e:e};_.exports=i.View.extend({tmpl:{html:'<div class="_fp"><input mx-guid="g0" class="_ap _fq" value="<%=$$.format($$.time[\'__cz\'])%>" <%if($$.types[\'__cz\']){%> mx-change="__fW({type:\'__cz\'})" <%}else{%> disabled<%}%> maxlength="2" mx-keydown="__dF({type:\'__cz\'})" autocomplete="off"><button mx-guid="g1" type="button" class="_an _fr _aa" <%if($$.types[\'__cz\']){%> mx-click="__fV({type:\'__cz\'})" mx-mousedown="__dE({type:\'__cz\'})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe6df;</i></button><button mx-guid="g2" type="button" class="_an _fr _ab" <%if($$.types[\'__cz\']){%> mx-click="__fV({type:\'__cz\',inc:1})" mx-mousedown="__dE({type:\'__cz\',inc:1})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe661;</i></button></div><span class="_fs">:</span><div class="_fp"><input mx-guid="g3" class="_ap _fq" value="<%=$$.format($$.time[\'__fS\'])%>" <%if($$.types[\'__fS\']){%> mx-change="__fW({type:\'__fS\'})" <%}else{%> disabled<%}%> maxlength="2" mx-keydown="__dF({type:\'__fS\'})" autocomplete="off"><button mx-guid="g4" type="button" class="_an _fr _aa" <%if($$.types[\'__fS\']){%> mx-click="__fV({type:\'__fS\'})" mx-mousedown="__dE({type:\'__fS\'})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe6df;</i></button><button mx-guid="g5" type="button" class="_an _fr _ab" <%if($$.types[\'__fS\']){%> mx-click="__fV({type:\'__fS\',inc:1})" mx-mousedown="__dE({type:\'__fS\',inc:1})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe661;</i></button></div><span class="_fs">:</span><div class="_fp"><input mx-guid="g6" class="_ap _fq" value="<%=$$.format($$.time[\'__fT\'])%>" <%if($$.types[\'__fT\']){%> mx-change="__fW({type:\'__fT\'})" <%}else{%> disabled<%}%> maxlength="2" mx-keydown="__dF({type:\'__fT\'})" autocomplete="off"><button mx-guid="g7" type="button" class="_an _fr _aa" <%if($$.types[\'__fT\']){%> mx-click="__fV({type:\'__fT\'})" mx-mousedown="__dE({type:\'__fT\'})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe6df;</i></button><button mx-guid="g8" type="button" class="_an _fr _ab" <%if($$.types[\'__fT\']){%> mx-click="__fV({type:\'__fT\',inc:1})" mx-mousedown="__dE({type:\'__fT\',inc:1})" <%}else{%> disabled<%}%> tabindex="-1"><i class="__">&#xe661;</i></button></div>',subs:[{keys:["time","types"],path:'input[mx-guid="g0"]',attr:"value=\"<%=$$.format($$.time['__cz'])%>\" <%if($$.types['__cz']){%> mx-change=\"__fW({type:'__cz'})\" <%}else{%> disabled<%}%>",attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g1"]',attr:"<%if($$.types['__cz']){%> mx-click=\"__fV({type:'__cz'})\" mx-mousedown=\"__dE({type:'__cz'})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g2"]',attr:"<%if($$.types['__cz']){%> mx-click=\"__fV({type:'__cz',inc:1})\" mx-mousedown=\"__dE({type:'__cz',inc:1})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["time","types"],path:'input[mx-guid="g3"]',attr:"value=\"<%=$$.format($$.time['__fS'])%>\" <%if($$.types['__fS']){%> mx-change=\"__fW({type:'__fS'})\" <%}else{%> disabled<%}%>",attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g4"]',attr:"<%if($$.types['__fS']){%> mx-click=\"__fV({type:'__fS'})\" mx-mousedown=\"__dE({type:'__fS'})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g5"]',attr:"<%if($$.types['__fS']){%> mx-click=\"__fV({type:'__fS',inc:1})\" mx-mousedown=\"__dE({type:'__fS',inc:1})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["time","types"],path:'input[mx-guid="g6"]',attr:"value=\"<%=$$.format($$.time['__fT'])%>\" <%if($$.types['__fT']){%> mx-change=\"__fW({type:'__fT'})\" <%}else{%> disabled<%}%>",attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g7"]',attr:"<%if($$.types['__fT']){%> mx-click=\"__fV({type:'__fT'})\" mx-mousedown=\"__dE({type:'__fT'})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]},{keys:["types"],path:'button[mx-guid="g8"]',attr:"<%if($$.types['__fT']){%> mx-click=\"__fV({type:'__fT',inc:1})\" mx-mousedown=\"__dE({type:'__fT',inc:1})\" <%}else{%> disabled<%}%>",attrs:[{n:"mx-click"},{n:"mx-mousedown"},{n:"disabled",b:1,p:1}]}]},init:function(e){var t=this,_=a(e.time),i=s(e.type);t.updater.set({format:d,time:_,types:i})},render:function(){this.updater.digest()},val:function(e){var t=this.updater;if(e){var _=a(e);t.digest({time:_})}return t.get("time")},__fU:function(e,t){var _=this,i=_.updater.get("time"),n="__cz"==e?23:59;t?i[e]++:i[e]--,i[e]>n?i[e]=0:i[e]<0&&(i[e]=n),_.updater.digest({time:i})},__u:function(){var e=this,t=n("#"+e.id),_=e.updater.get("time");t.trigger({type:"change",time:d(_.__cz)+":"+d(_.__fS)+":"+d(_.__fT)})},"__fV<click>":function(e){var t=this;if(!t.__dB){var _=e.params;t.__fU(_.type,_.inc),t.__u()}},"__fW<change>":function(e){e.stopPropagation();var t=e.params.type,_="__cz"==t?23:59,i=e.eventTarget,n=i.value,a=parseInt(n,10),s=this.updater.get("time");a||0===a?(a<0?a=0:a>_&&(a=_),a!==s[t]?(s[t]=a,this.updater.digest({time:s}),this.__u()):i.value=d(a)):i.value=d(s[t])},"__dE<mousedown>":function(e){var t=this,_=e.params;t.__dC=setTimeout(t.wrapAsync(function(){t.__dD=setInterval(t.wrapAsync(function(){t.__dB=!0,t.__fU(_.type,_.inc)}),50)}),300)},"__dF<keydown>":function(e){if(38==e.keyCode||40==e.keyCode){e.preventDefault();var t=this;t.__fU(e.params.type,38==e.keyCode),clearTimeout(t.__fX),t.__fX=setTimeout(t.wrapAsync(function(){t.__u()}),100)}},"$doc<mouseup>":function(){var e=this;clearTimeout(e.__dC),clearInterval(e.__dD),setTimeout(e.wrapAsync(function(){e.__dB&&e.__u(),delete e.__dB}),0)}})});