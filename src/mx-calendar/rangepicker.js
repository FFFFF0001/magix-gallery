define("mx-calendar/rangepicker",["magix","$","../mx-monitor/index","./index","./range"],function(_,t,e){var i=_("magix"),a=_("$"),n=_("../mx-monitor/index"),r=_("./index"),o=_("./range"),s=["today","yesterday","passed7","lastestThisMonth","preMonth","lastest15"],d=i.View.extend({init:function(_){var t=this,e=_.start,i=_.end,d=_.timeType,c=_.formatter||"YYYY-MM-dd"+(d?" hh:mm:ss":""),f=r.format(new Date,c);t.__N=c,t.__S=!0,t.__L=d,t.__M=_.dateType,e||(t.__S=!1,e=f),i||(t.__S=!1,i=f),t.__T="false"!=_.shortcuts,t.__G=_.max,t.__F=_.min,t.__J=_.placement,t.__K=_.align,t.__I=t.__T?s:[],t.__H=o.getDescription(e,i,t.__I,c),n.__e();var p=a("#"+t.id),m=function(){t.__f()};t.on("destroy",function(){n.__g(t),n.__h(),a("#rpcnt_"+t.id).remove(),p.off("click",m)}),p.on("click",m),t.__i=p,p.prop("autocomplete","off")},__j:function(_){var t=this,e=i.inside(_,t.id)||i.inside(_,"rpcnt_"+t.id);if(!e)for(var a=t.owner.children(),n=a.length-1;n>=0;n--){var r=i.Vframe.get(a[n]);if(r&&(e=r.invoke("__j",_)),e)break}return e},__U:function(){var _=this,t=_.__H;t.quickDateText?_.__i.val(t.quickDateText):_.__i.val(t.startStr+"è‡³"+t.endStr)},render:function(){var _=this,t="rpcnt_"+_.id;a(_.wrapEvent('<div mx-change="__V()" mx-cancel="__a()" style="position:absolute;display:none;z-index:10"></div>')).attr("id",t).insertAfter(_.__i),_.__S&&_.__U()},__f:function(){var _=this;if(!_.__k){var t=a("#rpcnt_"+_.id),e=_.__i;_.__k=!0,_.__m||(_.__m=!0,_.owner.mountVframe("rpcnt_"+_.id,"mx-calendar/range",{min:_.__F,max:_.__G,timeType:_.__L,dateType:_.__M,formatter:_.__N,dates:_.__H,quickDates:_.__I,placement:_.__J,align:_.__K})),n.__l(_),t.show();var i=e.offset(),r=void 0,o=void 0;switch(_.__J){case"top":o=i.top-t.outerHeight()-5;break;default:o=i.top+e.outerHeight()+5}switch(_.__K){case"right":r=i.left+e.outerWidth()-t.outerWidth();break;default:r=i.left}t.offset({left:r,top:o})}},__a:function(_){var t=this;if(t.__k){var e=a("#rpcnt_"+t.id);t.__k=!1,e.hide(),n.__g(t),_||e.invokeView("__O")}},"__V<change>":function(_){var t=this;_.stopPropagation(),t.__H=_.dates,t.__U(),t.__a(!0),t.__i.trigger({type:"change",dates:_.dates})},"__a<cancel>":function(_){_.stopPropagation(),this.__a()}});e.exports=d});