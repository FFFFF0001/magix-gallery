define("mx-calendar/rangepicker",["magix","$","../mx-monitor/index","./index","./range"],(_,e,t)=>{let i=_("magix"),a=_("$"),n=_("../mx-monitor/index"),r=_("./index"),s=_("./range"),o=["today","yesterday","passed7","lastestThisMonth","preMonth","lastest15"],d=i.View.extend({init(_){let e=this,t=_.start,i=_.end,d=_.timeType,l=_.formatter||"YYYY-MM-dd"+(d?" hh:mm:ss":""),h=r.format(new Date,l);e.__M=l,e.__R=!0,e.__K=d,e.__L=_.dateType,t||(e.__R=!1,t=h),i||(e.__R=!1,i=h),e.__S="false"!=_.shortcuts,e.__F=_.max,e.__E=_.min,e.__I=_.placement,e.__J=_.align,e.__H=e.__S?o:[],e.__G=s.getDescription(t,i,e.__H,l),n.__d();let c=a("#"+e.id),p=()=>{e.__e()};e.on("destroy",()=>{n.__f(e),n.__g(),a("#rpcnt_"+e.id).remove(),c.off("click",p)}),c.on("click",p),e.__h=c,c.prop("autocomplete","off")},__i(_){let e=this,t=i.inside(_,e.id)||i.inside(_,"rpcnt_"+e.id);if(!t){let a=e.owner.children();for(let e=a.length-1;e>=0;e--){let n=i.Vframe.get(a[e]);if(n&&(t=n.invoke("__i",_)),t)break}}return t},__T(){let _=this,e=_.__G;e.quickDateText?_.__h.val(e.quickDateText):_.__h.val(e.startStr+"è‡³"+e.endStr)},render(){let _=this,e="rpcnt_"+_.id;a(_.wrapEvent('<div mx-change="__U()" mx-cancel="__a()" style="position:absolute;display:none;z-index:10"></div>')).attr("id",e).insertAfter(_.__h),_.__R&&_.__T()},__e(){let _=this;if(!_.__j){let e=a("#rpcnt_"+_.id),t=_.__h;_.__j=!0,_.__l||(_.__l=!0,_.owner.mountVframe("rpcnt_"+_.id,"mx-calendar/range",{min:_.__E,max:_.__F,timeType:_.__K,dateType:_.__L,formatter:_.__M,dates:_.__G,quickDates:_.__H,placement:_.__I,align:_.__J})),n.__k(_),e.show();let i,r,s=t.offset();switch(_.__I){case"top":r=s.top-e.outerHeight()-5;break;default:r=s.top+t.outerHeight()+5}switch(_.__J){case"right":i=s.left+t.outerWidth()-e.outerWidth();break;default:i=s.left}e.offset({left:i,top:r})}},__a(_){let e=this;if(e.__j){let t=a("#rpcnt_"+e.id);e.__j=!1,t.hide(),n.__f(e),_||t.invokeView("__N")}},"__U<change>"(_){_.stopPropagation(),this.__G=_.dates,this.__T(),this.__a(!0),this.__h.trigger({type:"change",dates:_.dates})},"__a<cancel>"(_){_.stopPropagation(),this.__a()}});t.exports=d});