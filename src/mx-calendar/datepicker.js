define("mx-calendar/datepicker",["magix","$","../mx-monitor/index","./index"],function(t,e,i){var _=t("magix"),n=t("$"),a=_.Vframe,d=t("../mx-monitor/index");t("./index"),i.exports=_.View.extend({init:function(t){var e=this;t.hasBtn=1,e.__d=t,d.__e();var i=n("#"+e.id),_=function(){e.__f()};e.on("destroy",function(){d.__g(e),d.__h(),n("#dpcnt_"+e.id).remove(),i.off("click",_)}),i.on("click",_),e.__i=i,i.prop("autocomplete","off")},__j:function(t){var e=this;return _.inside(t,e.id)||_.inside(t,"dpcnt_"+e.id)},update:function(t){var e=this;a.get("dpcnt_"+e.id).invoke("update",[t])},render:function(){var t=this,e="dpcnt_"+t.id;n(t.wrapEvent('<div style="position:absolute;display:none;z-index:10;left:-10000px" mx-change="__o()" mx-cancel="__a()"></div>')).attr("id",e).insertAfter(t.__i),t.__d.selected||(t.__d.selected=t.__i.val())},__f:function(){var t=this;if(!t.__k){var e=n("#dpcnt_"+t.id),i=t.__i;t.__k=!0,d.__l(t),t.__m||(t.__m=!0,t.owner.mountVframe("dpcnt_"+t.id,"mx-calendar/index",t.__d)),e.show();var _=i.offset(),a=void 0,o=void 0;switch(t.__d.placement){case"top":o=_.top-e.outerHeight()-5;break;default:o=_.top+i.outerHeight()+5}switch(t.__d.align){case"right":a=_.left+i.outerWidth()-e.outerWidth();break;default:a=_.left}e.offset({left:a,top:o})}},__a:function(){var t=this;if(t.__k){var e=n("#dpcnt_"+t.id),i=e.prop("vframe");i&&i.invoke("__n"),t.__k=!1,e.hide(),d.__g(t)}},"__o<change>":function(t){var e=this;t.stopPropagation();var i=t.date;t.time&&(i+=" "+t.time),e.__i.val(i).trigger({type:"change",date:t.date,time:t.time}),e.__a()},"__a<cancel>":function(){this.__a()}})});