define("mx-calendar/datepicker",["magix","$","../mx-monitor/index","./index"],(e,t,_)=>{let i=e("magix"),d=e("$"),n=i.Vframe,a=e("../mx-monitor/index");e("./index"),_.exports=i.View.extend({init(e){let t=this;e.hasBtn=1,t.__c=e,a.__d();let _=d("#"+t.id),i=()=>{t.__e()};t.on("destroy",()=>{a.__f(t),a.__g(),d("#dpcnt_"+t.id).remove(),_.off("click",i)}),_.on("click",i),t.__h=_,_.prop("autocomplete","off")},__i(e){return i.inside(e,this.id)||i.inside(e,"dpcnt_"+this.id)},update(e){n.get("dpcnt_"+this.id).invoke("update",[e])},render(){let e=this,t="dpcnt_"+e.id;d(e.wrapEvent('<div style="position:absolute;display:none;z-index:10;left:-10000px" mx-change="__n()" mx-cancel="__a()"></div>')).attr("id",t).insertAfter(e.__h),e.__c.selected||(e.__c.selected=e.__h.val())},__e(){let e=this;if(!e.__j){let t=d("#dpcnt_"+e.id),_=e.__h;e.__j=!0,a.__k(e),e.__l||(e.__l=!0,e.owner.mountVframe("dpcnt_"+e.id,"mx-calendar/index",e.__c)),t.show();let i,n,o=_.offset();switch(e.__c.placement){case"top":n=o.top-t.outerHeight()-5;break;default:n=o.top+_.outerHeight()+5}switch(e.__c.align){case"right":i=o.left+_.outerWidth()-t.outerWidth();break;default:i=o.left}t.offset({left:i,top:n})}},__a(){let e=this;if(e.__j){let t=d("#dpcnt_"+e.id),_=t.prop("vframe");_&&_.invoke("__m"),e.__j=!1,t.hide(),a.__f(e)}},"__n<change>"(e){e.stopPropagation();let t=e.date;e.time&&(t+=" "+e.time),this.__h.val(t).trigger({type:"change",date:e.date,time:e.time}),this.__a()},"__a<cancel>"(){this.__a()}})});