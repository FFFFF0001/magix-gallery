define("mx-number/index",["magix","$"],function(_,e,t){var a=_("magix"),o=_("$");a.applyStyle("_z",'._dY{padding:0;position:relative}._dZ{width:100%;border:none;height:100%;padding:6px 9px;background-color:transparent;color:#333;display:block}._e_,._ea{width:25px;height:50%;position:absolute;right:1px;border:2px solid #fff;border-radius:4px;cursor:pointer}._e_:hover,._ea:hover{background-color:#f0f0f0}._ea{top:1px}._e_{bottom:1px}._eb:after{width:0;height:0;position:absolute;top:0;right:0;bottom:0;left:0;border-left:5px solid transparent;border-right:5px solid transparent;content:"";display:block;margin:auto}._e_:after{border-top:5px solid #ccc}._ea:after{border-bottom:5px solid #ccc}._ec{background-color:#fbfbfb}._ec:hover{border-color:#e6e6e6}._ec ._e_,._ec ._ea{cursor:not-allowed;border-color:transparent}._ec ._e_:hover,._ec ._ea:hover{background-color:transparent}._ec ._ea:hover:after{border-bottom-color:#ccc}._ec ._e_:hover:after{border-top-color:#ccc}'),t.exports=a.View.extend({tmpl:{html:'<input mx-guid="g0" class="_dZ" mx-focusin="__dy()" mx-focusout="__dA()" value="<%=$$.value%>" mx-change="__dx()" mx-keydown="__dF()" <%if($$.disabled){%> disabled<%}%> autocomplete="off"><span class="_ea _eb _aj" mx-click="__du({i:true})" mx-mousedown="__dE({i:true})" mx-contextmenu="__D()"></span><span class="_e_ _eb _aj" mx-click="__du()" mx-mousedown="__dE()" mx-contextmenu="__D()"></span>',subs:[{keys:["value","disabled"],path:'input[mx-guid="g0"]',attr:'value="<%=$$.value%>" mx-change="__dx()" mx-keydown="__dF()" <%if($$.disabled){%> disabled<%}%>',attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"mx-keydown"},{n:"disabled",b:1,p:1}]}]},init:function(_){var e=this;e.assign(_);var t=o("#"+e.id);t.addClass("_ap _dY"),e.__h=t},assign:function(_){var e=this;e.__cp=+_.value||"",e.__dq=+_.step||1,e.__cb=_.disabled+""=="true",e.__F=a.has(_,"max")?+_.max:Number.MAX_VALUE,e.__E=a.has(_,"min")?+_.min:-Number.MAX_VALUE,e.__dr=+_.ratio||10;var t=e.__dq+"",o=t.indexOf(".");return o=o>=0?t.slice(o+1).length:0,e.__ds=o,!0},render:function(){var _=this;_.__h[_.__cb?"addClass":"removeClass"]("_ec"),_.updater.digest({value:_.__cp,disabled:_.__cb}),_.__dt=_.__h.find("input")},val:function(_){var e=this;if((_=+_)||0===_){var t=e.__F,a=e.__E,o=e.__dq;_>t?_=t:_<a&&(_=a),_!==e.__cp&&(_=(_=Math.round(_/o)*o).toFixed(e.__ds),e.__dt.val(_),_=+_,e.__h.prop("value",e.__cp=_).trigger({type:"input",value:_}))}return e.__cp},__du:function(_,e){var t=this,a=t.__cp;""===a&&(a=0);var o=t.__dq,r=a;e&&(o*=t.__dr),_?r+=o:r-=o,t.val(r)},__dv:function(){var _=this.__dt[0];_&&(_.focus(),_.selectionStart=_.selectionEnd=_.value.length)},__dw:function(){var _=this;_.__h.addClass("_ar"),a.has(_,"__cg")||(_.__cg=_.__cp)},"__dx<change>":function(_){_.stopPropagation();var e=_.eventTarget,t=e.value,a=this;if(""===t)return e.value=a.__cp="",void a.__h.prop("value","");var o=parseFloat(t);(o||0===o)&&a.val(o),o=(o=a.__cp)||0===o?o.toFixed(a.__ds):"",e.value=o},"__dy<focusin>":function(){this.__dw()},"__dA<focusout>":function(){var _=this;_.__dz||(_.__h.removeClass("_ar"),_.__cg!=_.__cp&&_.__h.trigger({type:"change",value:_.__cp}),delete _.__cg)},"__du<click>":function(_){var e=this;e.__cb||e.__dB||(e.__du(_.params.i,_.shiftKey),e.__dv())},"__dE<mousedown>":function(_){var e=this;e.__cb||(e.__dz=!0,e.__dw(),e.__dC=setTimeout(e.wrapAsync(function(){e.__dD=setInterval(e.wrapAsync(function(){e.__dB=!0,e.__du(_.params.i),e.__dv()}),50)}),300))},"__dF<keydown>":function(_){if(38==_.keyCode||40==_.keyCode){_.preventDefault();var e=this;if(!e.__cb){var t=_.eventTarget.value;if(""===t)e.__cp="";else{var a=parseFloat(t);(a||0===a)&&a!=e.__cp&&(e.__cp=a)}e.__du(38==_.keyCode,_.shiftKey)}}},"__D<contextmenu>":function(_){_.preventDefault()},"$doc<mouseup>":function(){var _=this;clearTimeout(_.__dC),clearInterval(_.__dD),delete _.__dz,setTimeout(_.wrapAsync(function(){delete _.__dB}),0)}})});