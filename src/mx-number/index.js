define("mx-number/index",["magix","$"],function(_,e,t){var a=_("magix"),o=_("$");a.applyStyle("_z",'._dY{padding:0;position:relative}._dZ{width:100%;border:none;height:100%;padding:6px 9px;background-color:transparent;color:#333;display:block}._e_,._ea{width:25px;height:50%;position:absolute;right:1px;border:2px solid #fff;border-radius:4px;cursor:pointer}._e_:hover,._ea:hover{background-color:#f0f0f0}._ea{top:1px}._e_{bottom:1px}._eb:after{width:0;height:0;position:absolute;top:0;right:0;bottom:0;left:0;border-left:5px solid transparent;border-right:5px solid transparent;content:"";display:block;margin:auto}._e_:after{border-top:5px solid #ccc}._ea:after{border-bottom:5px solid #ccc}._ec{background-color:#fbfbfb}._ec:hover{border-color:#e6e6e6}._ec ._e_,._ec ._ea{cursor:not-allowed;border-color:transparent}._ec ._e_:hover,._ec ._ea:hover{background-color:transparent}._ec ._ea:hover:after{border-bottom-color:#ccc}._ec ._e_:hover:after{border-top-color:#ccc}'),t.exports=a.View.extend({tmpl:{html:'<input mx-guid="g0" class="_dZ" mx-focusin="__dz()" mx-focusout="__dB()" value="<%=$$.value%>" mx-change="__dy()" mx-keydown="__dG()" <%if($$.disabled){%> disabled<%}%> autocomplete="off"><span class="_ea _eb _aj" mx-click="__dv({i:true})" mx-mousedown="__dF({i:true})" mx-contextmenu="__E()"></span><span class="_e_ _eb _aj" mx-click="__dv()" mx-mousedown="__dF()" mx-contextmenu="__E()"></span>',subs:[{keys:["value","disabled"],path:'input[mx-guid="g0"]',attr:'value="<%=$$.value%>" mx-change="__dy()" mx-keydown="__dG()" <%if($$.disabled){%> disabled<%}%>',attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"mx-keydown"},{n:"disabled",b:1,p:1}]}]},init:function(_){var e=this;e.assign(_);var t=o("#"+e.id);t.addClass("_ap _dY"),e.__i=t},assign:function(_){var e=this;e.__cq=+_.value||"",e.__dr=+_.step||1,e.__cc=_.disabled+""=="true",e.__G=a.has(_,"max")?+_.max:Number.MAX_VALUE,e.__F=a.has(_,"min")?+_.min:-Number.MAX_VALUE,e.__ds=+_.ratio||10;var t=e.__dr+"",o=t.indexOf(".");return o=o>=0?t.slice(o+1).length:0,e.__dt=o,!0},render:function(){var _=this;_.__i[_.__cc?"addClass":"removeClass"]("_ec"),_.updater.digest({value:_.__cq,disabled:_.__cc}),_.__du=_.__i.find("input")},val:function(_){var e=this;if((_=+_)||0===_){var t=e.__G,a=e.__F,o=e.__dr;_>t?_=t:_<a&&(_=a),_!==e.__cq&&(_=(_=Math.round(_/o)*o).toFixed(e.__dt),e.__du.val(_),_=+_,e.__i.prop("value",e.__cq=_).trigger({type:"input",value:_}))}return e.__cq},__dv:function(_,e){var t=this,a=t.__cq;""===a&&(a=0);var o=t.__dr,r=a;e&&(o*=t.__ds),_?r+=o:r-=o,t.val(r)},__dw:function(){var _=this.__du[0];_&&(_.focus(),_.selectionStart=_.selectionEnd=_.value.length)},__dx:function(){var _=this;_.__i.addClass("_ar"),a.has(_,"__ch")||(_.__ch=_.__cq)},"__dy<change>":function(_){_.stopPropagation();var e=_.eventTarget,t=e.value,a=this;if(""===t)return e.value=a.__cq="",void a.__i.prop("value","");var o=parseFloat(t);(o||0===o)&&a.val(o),o=(o=a.__cq)||0===o?o.toFixed(a.__dt):"",e.value=o},"__dz<focusin>":function(){this.__dx()},"__dB<focusout>":function(){var _=this;_.__dA||(_.__i.removeClass("_ar"),_.__ch!=_.__cq&&_.__i.trigger({type:"change",value:_.__cq}),delete _.__ch)},"__dv<click>":function(_){var e=this;e.__cc||e.__dC||(e.__dv(_.params.i,_.shiftKey),e.__dw())},"__dF<mousedown>":function(_){var e=this;e.__cc||(e.__dA=!0,e.__dx(),e.__dD=setTimeout(e.wrapAsync(function(){e.__dE=setInterval(e.wrapAsync(function(){e.__dC=!0,e.__dv(_.params.i),e.__dw()}),50)}),300))},"__dG<keydown>":function(_){if(38==_.keyCode||40==_.keyCode){_.preventDefault();var e=this;if(!e.__cc){var t=_.eventTarget.value;if(""===t)e.__cq="";else{var a=parseFloat(t);(a||0===a)&&a!=e.__cq&&(e.__cq=a)}e.__dv(38==_.keyCode,_.shiftKey)}}},"__E<contextmenu>":function(_){_.preventDefault()},"$doc<mouseup>":function(){var _=this;clearTimeout(_.__dD),clearInterval(_.__dE),delete _.__dA,setTimeout(_.wrapAsync(function(){delete _.__dC}),0)}})});