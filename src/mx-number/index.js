define("mx-number/index",["magix","$"],(_,e,t)=>{let d=_("magix"),a=_("$");d.applyStyle("_z",'._dX{padding:0;position:relative}._dY{width:100%;border:none;height:100%;padding:6px 9px;background-color:transparent;color:#333;display:block}._dZ,._e_{width:25px;height:50%;position:absolute;right:1px;border:2px solid #fff;border-radius:4px;cursor:pointer}._dZ:hover,._e_:hover{background-color:#f0f0f0}._e_{top:1px}._dZ{bottom:1px}._ea:after{width:0;height:0;position:absolute;top:0;right:0;bottom:0;left:0;border-left:5px solid transparent;border-right:5px solid transparent;content:"";display:block;margin:auto}._dZ:after{border-top:5px solid #ccc}._e_:after{border-bottom:5px solid #ccc}._eb{background-color:#fbfbfb}._eb:hover{border-color:#e6e6e6}._eb ._dZ,._eb ._e_{cursor:not-allowed;border-color:transparent}._eb ._dZ:hover,._eb ._e_:hover{background-color:transparent}._eb ._e_:hover:after{border-bottom-color:#ccc}._eb ._dZ:hover:after{border-top-color:#ccc}'),t.exports=d.View.extend({tmpl:{html:'<input mx-guid="g0" class="_dY" mx-focusin="__dv()" mx-focusout="__dx()" value="<%=$$.value%>" mx-change="__du()" mx-keydown="__dC()" <%if($$.disabled){%> disabled<%}%> autocomplete="off"><span class="_e_ _ea _aj" mx-click="__dr({i:true})" mx-mousedown="__dB({i:true})" mx-contextmenu="__D()"></span><span class="_dZ _ea _aj" mx-click="__dr()" mx-mousedown="__dB()" mx-contextmenu="__D()"></span>',subs:[{keys:["value","disabled"],path:'input[mx-guid="g0"]',attr:'value="<%=$$.value%>" mx-change="__du()" mx-keydown="__dC()" <%if($$.disabled){%> disabled<%}%>',attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"mx-keydown"},{n:"disabled",b:1,p:1}]}]},init(_){this.assign(_);let e=a("#"+this.id);e.addClass("_ap _dX"),this.__h=e},assign(_){let e=this;e.__cm=+_.value||"",e.__dn=+_.step||1,e.__bZ=_.disabled+""=="true",e.__F=d.has(_,"max")?+_.max:Number.MAX_VALUE,e.__E=d.has(_,"min")?+_.min:-Number.MAX_VALUE,e.__do=+_.ratio||10;let t=e.__dn+"",a=t.indexOf(".");return a=a>=0?t.slice(a+1).length:0,e.__dp=a,!0},render(){let _=this;_.__h[_.__bZ?"addClass":"removeClass"]("_eb"),_.updater.digest({value:_.__cm,disabled:_.__bZ}),_.__dq=_.__h.find("input")},val(_){let e=this;if((_=+_)||0===_){let t=e.__F,d=e.__E,a=e.__dn;_>t?_=t:_<d&&(_=d),_!==e.__cm&&(_=(_=Math.round(_/a)*a).toFixed(e.__dp),e.__dq.val(_),_=+_,e.__h.prop("value",e.__cm=_).trigger({type:"input",value:_}))}return e.__cm},__dr(_,e){let t=this.__cm;""===t&&(t=0);let d=this.__dn,a=t;e&&(d*=this.__do),_?a+=d:a-=d,this.val(a)},__ds(){let _=this.__dq[0];_&&(_.focus(),_.selectionStart=_.selectionEnd=_.value.length)},__dt(){let _=this;_.__h.addClass("_ar"),d.has(_,"__cd")||(_.__cd=_.__cm)},"__du<change>"(_){_.stopPropagation();let e=_.eventTarget,t=e.value,d=this;if(""===t)return e.value=d.__cm="",void d.__h.prop("value","");let a=parseFloat(t);(a||0===a)&&d.val(a),a=(a=d.__cm)||0===a?a.toFixed(d.__dp):"",e.value=a},"__dv<focusin>"(){this.__dt()},"__dx<focusout>"(){let _=this;_.__dw||(_.__h.removeClass("_ar"),_.__cd!=_.__cm&&_.__h.trigger({type:"change",value:_.__cm}),delete _.__cd)},"__dr<click>"(_){let e=this;e.__bZ||e.__dy||(e.__dr(_.params.i,_.shiftKey),e.__ds())},"__dB<mousedown>"(_){let e=this;e.__bZ||(e.__dw=!0,e.__dt(),e.__dz=setTimeout(e.wrapAsync(()=>{e.__dA=setInterval(e.wrapAsync(()=>{e.__dy=!0,e.__dr(_.params.i),e.__ds()}),50)}),300))},"__dC<keydown>"(_){if(38==_.keyCode||40==_.keyCode){_.preventDefault();let e=this;if(!e.__bZ){let t=_.eventTarget.value;if(""===t)e.__cm="";else{let _=parseFloat(t);(_||0===_)&&_!=e.__cm&&(e.__cm=_)}e.__dr(38==_.keyCode,_.shiftKey)}}},"__D<contextmenu>"(_){_.preventDefault()},"$doc<mouseup>"(){let _=this;clearTimeout(_.__dz),clearInterval(_.__dA),delete _.__dw,setTimeout(_.wrapAsync(()=>{delete _.__dy}),0)}})});