define("mx-number/index",["magix","$"],function(_,e,d){var t=_("magix"),o=_("$");t.applyStyle("_z",'._dT{padding:0;position:relative}._dU{width:100%;border:none;height:100%;padding:6px 9px;background-color:transparent;color:#333;display:block}._dV,._dW{width:25px;height:50%;position:absolute;right:1px;border:2px solid #fff;border-radius:4px;cursor:pointer}._dV:hover,._dW:hover{background-color:#f0f0f0}._dW{top:1px}._dV{bottom:1px}._dX:after{width:0;height:0;position:absolute;top:0;right:0;bottom:0;left:0;border-left:5px solid transparent;border-right:5px solid transparent;content:"";display:block;margin:auto}._dV:after{border-top:5px solid #ccc}._dW:after{border-bottom:5px solid #ccc}._dY{background-color:#fbfbfb}._dY:hover{border-color:#e6e6e6}._dY ._dV,._dY ._dW{cursor:not-allowed;border-color:transparent}._dY ._dV:hover,._dY ._dW:hover{background-color:transparent}._dY ._dW:hover:after{border-bottom-color:#ccc}._dY ._dV:hover:after{border-top-color:#ccc}'),d.exports=t.View.extend({tmpl:{html:'<input mx-guid="g0" class="_dU" mx-focusin="__dm()" mx-focusout="__do()" value="<%=$$.value%>" mx-change="__dl()" mx-keydown="__dt()" <%if($$.disabled){%> disabled<%}%> autocomplete="off"><span class="_dW _dX _ai" mx-click="__di({i:true})" mx-mousedown="__ds({i:true})" mx-contextmenu="__D()"></span><span class="_dV _dX _ai" mx-click="__di()" mx-mousedown="__ds()" mx-contextmenu="__D()"></span>',subs:[{keys:["value","disabled"],path:'input[mx-guid="g0"]',attr:'value="<%=$$.value%>" mx-change="__dl()" mx-keydown="__dt()" <%if($$.disabled){%> disabled<%}%>',attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"mx-keydown"},{n:"disabled",b:1,p:1}]}]},init:function(_){var e=this;e.assign(_);var d=o("#"+e.id);d.addClass("_ao _dT"),e.__h=d},assign:function(_){var e=this;e.__cd=+_.value||"",e.__de=+_.step||1,e.__bS=_.disabled+""=="true",e.__F=t.has(_,"max")?+_.max:Number.MAX_VALUE,e.__E=t.has(_,"min")?+_.min:-Number.MAX_VALUE,e.__df=+_.ratio||10;var d=e.__de+"",o=d.indexOf(".");return o=o>=0?d.slice(o+1).length:0,e.__dg=o,!0},render:function(){var _=this;_.__h[_.__bS?"addClass":"removeClass"]("_dY"),_.updater.digest({value:_.__cd,disabled:_.__bS}),_.__dh=_.__h.find("input")},val:function(_){var e=this;if((_=+_)||0===_){var d=e.__F,t=e.__E,o=e.__de;_>d?_=d:_<t&&(_=t),_!==e.__cd&&(_=(_=Math.round(_/o)*o).toFixed(e.__dg),e.__dh.val(_),_=+_,e.__h.prop("value",e.__cd=_).trigger({type:"input",value:_}))}return e.__cd},__di:function(_,e){var d=this,t=d.__cd;""===t&&(t=0);var o=d.__de,a=t;e&&(o*=d.__df),_?a+=o:a-=o,d.val(a)},__dj:function(){var _=this.__dh[0];_&&(_.focus(),_.selectionStart=_.selectionEnd=_.value.length)},__dk:function(){var _=this;_.__h.addClass("_aq"),t.has(_,"__bX")||(_.__bX=_.__cd)},"__dl<change>":function(_){_.stopPropagation();var e=_.eventTarget,d=e.value,t=this;if(""===d)return e.value=t.__cd="",void t.__h.prop("value","");var o=parseFloat(d);(o||0===o)&&t.val(o),o=(o=t.__cd)||0===o?o.toFixed(t.__dg):"",e.value=o},"__dm<focusin>":function(){this.__dk()},"__do<focusout>":function(){var _=this;_.__dn||(_.__h.removeClass("_aq"),_.__bX!=_.__cd&&_.__h.trigger({type:"change",value:_.__cd}),delete _.__bX)},"__di<click>":function(_){var e=this;e.__bS||e.__dp||(e.__di(_.params.i,_.shiftKey),e.__dj())},"__ds<mousedown>":function(_){var e=this;e.__bS||(e.__dn=!0,e.__dk(),e.__dq=setTimeout(e.wrapAsync(function(){e.__dr=setInterval(e.wrapAsync(function(){e.__dp=!0,e.__di(_.params.i),e.__dj()}),50)}),300))},"__dt<keydown>":function(_){if(38==_.keyCode||40==_.keyCode){_.preventDefault();var e=this;if(!e.__bS){var d=_.eventTarget.value;if(""===d)e.__cd="";else{var t=parseFloat(d);(t||0===t)&&t!=e.__cd&&(e.__cd=t)}e.__di(38==_.keyCode,_.shiftKey)}}},"__D<contextmenu>":function(_){_.preventDefault()},"$doc<mouseup>":function(){var _=this;clearTimeout(_.__dq),clearInterval(_.__dr),delete _.__dn,setTimeout(_.wrapAsync(function(){delete _.__dp}),0)}})});