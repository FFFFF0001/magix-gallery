define("mx-number/index",["magix","$"],function(e,_,t){var o=e("magix"),a=e("$");o.applyStyle("y",'.eg{padding:0;position:relative}.eh{width:100%;border:none;height:100%;padding:6px 9px;background-color:transparent;color:#333;display:block}.ei,.ej{width:25px;height:50%;position:absolute;right:1px;border:2px solid #fff;border-radius:4px;cursor:pointer}.ei:hover,.ej:hover{background-color:#f0f0f0}.ej{top:1px}.ei{bottom:1px}.ek:after{width:0;height:0;position:absolute;top:0;right:0;bottom:0;left:0;border-left:5px solid transparent;border-right:5px solid transparent;content:"";display:block;margin:auto}.ei:after{border-top:5px solid #ccc}.ej:after{border-bottom:5px solid #ccc}.el{background-color:#fbfbfb}.el:hover{border-color:#e6e6e6}.el .ei,.el .ej{cursor:not-allowed;border-color:transparent}.el .ei:hover,.el .ej:hover{background-color:transparent}.el .ej:hover:after{border-bottom-color:#ccc}.el .ei:hover:after{border-top-color:#ccc}'),t.exports=o.View.extend({tmpl:{html:'<input mx-guid="g0" class="eh" mx-focusin="__dl()" mx-focusout="__dn()" value="<%=$$.value%>" mx-change="__dk()" mx-keydown="__ds()" <%if($$.disabled){%> disabled<%}%> autocomplete="off"><span class="ej ek ah" mx-click="__dh({i:true})" mx-mousedown="__dr({i:true})" mx-contextmenu="__D()"></span><span class="ei ek ah" mx-click="__dh()" mx-mousedown="__dr()" mx-contextmenu="__D()"></span>',subs:[{keys:["value","disabled"],path:'input[mx-guid="g0"]',attr:'value="<%=$$.value%>" mx-change="__dk()" mx-keydown="__ds()" <%if($$.disabled){%> disabled<%}%>',attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"mx-keydown"},{n:"disabled",b:1,p:1}]}]},init:function(e){var _=this;_.assign(e);var t=a("#"+_.id);t.addClass("an eg"),_.__h=t},assign:function(e){var _=this;_.__cc=+e.value||"",_.__dd=+e.step||1,_.__bR=e.disabled+""=="true",_.__F=o.has(e,"max")?+e.max:Number.MAX_VALUE,_.__E=o.has(e,"min")?+e.min:-Number.MAX_VALUE,_.__de=+e.ratio||10;var t=_.__dd+"",a=t.indexOf(".");return a=a>=0?t.slice(a+1).length:0,_.__df=a,!0},render:function(){var e=this;e.__h[e.__bR?"addClass":"removeClass"]("el"),e.updater.digest({value:e.__cc,disabled:e.__bR}),e.__dg=e.__h.find("input")},val:function(e){var _=this;if((e=+e)||0===e){var t=_.__F,o=_.__E,a=_.__dd;e>t?e=t:e<o&&(e=o),e!==_.__cc&&(e=(e=Math.round(e/a)*a).toFixed(_.__df),_.__dg.val(e),e=+e,_.__h.prop("value",_.__cc=e).trigger({type:"input",value:e}))}return _.__cc},__dh:function(e,_){var t=this,o=t.__cc;""===o&&(o=0);var a=t.__dd,r=o;_&&(a*=t.__de),e?r+=a:r-=a,t.val(r)},__di:function(){var e=this.__dg[0];e&&(e.focus(),e.selectionStart=e.selectionEnd=e.value.length)},__dj:function(){var e=this;e.__h.addClass("ap"),o.has(e,"__bW")||(e.__bW=e.__cc)},"__dk<change>":function(e){e.stopPropagation();var _=e.eventTarget,t=_.value,o=this;if(""===t)return _.value=o.__cc="",void o.__h.prop("value","");var a=parseFloat(t);(a||0===a)&&o.val(a),a=(a=o.__cc)||0===a?a.toFixed(o.__df):"",_.value=a},"__dl<focusin>":function(){this.__dj()},"__dn<focusout>":function(){var e=this;e.__dm||(e.__h.removeClass("ap"),e.__bW!=e.__cc&&e.__h.trigger({type:"change",value:e.__cc}),delete e.__bW)},"__dh<click>":function(e){var _=this;_.__bR||_.__do||(_.__dh(e.params.i,e.shiftKey),_.__di())},"__dr<mousedown>":function(e){var _=this;_.__bR||(_.__dm=!0,_.__dj(),_.__dp=setTimeout(_.wrapAsync(function(){_.__dq=setInterval(_.wrapAsync(function(){_.__do=!0,_.__dh(e.params.i),_.__di()}),50)}),300))},"__ds<keydown>":function(e){if(38==e.keyCode||40==e.keyCode){e.preventDefault();var _=this;if(!_.__bR){var t=e.eventTarget.value;if(""===t)_.__cc="";else{var o=parseFloat(t);(o||0===o)&&o!=_.__cc&&(_.__cc=o)}_.__dh(38==e.keyCode,e.shiftKey)}}},"__D<contextmenu>":function(e){e.preventDefault()},"$doc<mouseup>":function(){var e=this;clearTimeout(e.__dp),clearInterval(e.__dq),delete e.__dm,setTimeout(e.wrapAsync(function(){delete e.__do}),0)}})});