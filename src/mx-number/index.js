define("mx-number/index",["magix","$"],function(_,e,t){var d=_("magix"),o=_("$");d.applyStyle("_z",'._dV{padding:0;position:relative}._dW{width:100%;border:none;height:100%;padding:6px 9px;background-color:transparent;color:#333;display:block}._dX,._dY{width:25px;height:50%;position:absolute;right:1px;border:2px solid #fff;border-radius:4px;cursor:pointer}._dX:hover,._dY:hover{background-color:#f0f0f0}._dY{top:1px}._dX{bottom:1px}._dZ:after{width:0;height:0;position:absolute;top:0;right:0;bottom:0;left:0;border-left:5px solid transparent;border-right:5px solid transparent;content:"";display:block;margin:auto}._dX:after{border-top:5px solid #ccc}._dY:after{border-bottom:5px solid #ccc}._e_{background-color:#fbfbfb}._e_:hover{border-color:#e6e6e6}._e_ ._dX,._e_ ._dY{cursor:not-allowed;border-color:transparent}._e_ ._dX:hover,._e_ ._dY:hover{background-color:transparent}._e_ ._dY:hover:after{border-bottom-color:#ccc}._e_ ._dX:hover:after{border-top-color:#ccc}'),t.exports=d.View.extend({tmpl:{html:'<input mx-guid="g0" class="_dW" mx-focusin="__do()" mx-focusout="__dq()" value="<%=$$.value%>" mx-change="__dn()" mx-keydown="__dv()" <%if($$.disabled){%> disabled<%}%> autocomplete="off"><span class="_dY _dZ _ai" mx-click="__dk({i:true})" mx-mousedown="__du({i:true})" mx-contextmenu="__D()"></span><span class="_dX _dZ _ai" mx-click="__dk()" mx-mousedown="__du()" mx-contextmenu="__D()"></span>',subs:[{keys:["value","disabled"],path:'input[mx-guid="g0"]',attr:'value="<%=$$.value%>" mx-change="__dn()" mx-keydown="__dv()" <%if($$.disabled){%> disabled<%}%>',attrs:[{n:"value",q:1,p:1},{n:"mx-change"},{n:"mx-keydown"},{n:"disabled",b:1,p:1}]}]},init:function(_){var e=this;e.assign(_);var t=o("#"+e.id);t.addClass("_ao _dV"),e.__h=t},assign:function(_){var e=this;e.__cf=+_.value||"",e.__dg=+_.step||1,e.__bS=_.disabled+""=="true",e.__F=d.has(_,"max")?+_.max:Number.MAX_VALUE,e.__E=d.has(_,"min")?+_.min:-Number.MAX_VALUE,e.__dh=+_.ratio||10;var t=e.__dg+"",o=t.indexOf(".");return o=o>=0?t.slice(o+1).length:0,e.__di=o,!0},render:function(){var _=this;_.__h[_.__bS?"addClass":"removeClass"]("_e_"),_.updater.digest({value:_.__cf,disabled:_.__bS}),_.__dj=_.__h.find("input")},val:function(_){var e=this;if((_=+_)||0===_){var t=e.__F,d=e.__E,o=e.__dg;_>t?_=t:_<d&&(_=d),_!==e.__cf&&(_=(_=Math.round(_/o)*o).toFixed(e.__di),e.__dj.val(_),_=+_,e.__h.prop("value",e.__cf=_).trigger({type:"input",value:_}))}return e.__cf},__dk:function(_,e){var t=this,d=t.__cf;""===d&&(d=0);var o=t.__dg,a=d;e&&(o*=t.__dh),_?a+=o:a-=o,t.val(a)},__dl:function(){var _=this.__dj[0];_&&(_.focus(),_.selectionStart=_.selectionEnd=_.value.length)},__dm:function(){var _=this;_.__h.addClass("_aq"),d.has(_,"__bX")||(_.__bX=_.__cf)},"__dn<change>":function(_){_.stopPropagation();var e=_.eventTarget,t=e.value,d=this;if(""===t)return e.value=d.__cf="",void d.__h.prop("value","");var o=parseFloat(t);(o||0===o)&&d.val(o),o=(o=d.__cf)||0===o?o.toFixed(d.__di):"",e.value=o},"__do<focusin>":function(){this.__dm()},"__dq<focusout>":function(){var _=this;_.__dp||(_.__h.removeClass("_aq"),_.__bX!=_.__cf&&_.__h.trigger({type:"change",value:_.__cf}),delete _.__bX)},"__dk<click>":function(_){var e=this;e.__bS||e.__dr||(e.__dk(_.params.i,_.shiftKey),e.__dl())},"__du<mousedown>":function(_){var e=this;e.__bS||(e.__dp=!0,e.__dm(),e.__ds=setTimeout(e.wrapAsync(function(){e.__dt=setInterval(e.wrapAsync(function(){e.__dr=!0,e.__dk(_.params.i),e.__dl()}),50)}),300))},"__dv<keydown>":function(_){if(38==_.keyCode||40==_.keyCode){_.preventDefault();var e=this;if(!e.__bS){var t=_.eventTarget.value;if(""===t)e.__cf="";else{var d=parseFloat(t);(d||0===d)&&d!=e.__cf&&(e.__cf=d)}e.__dk(38==_.keyCode,_.shiftKey)}}},"__D<contextmenu>":function(_){_.preventDefault()},"$doc<mouseup>":function(){var _=this;clearTimeout(_.__ds),clearInterval(_.__dt),delete _.__dp,setTimeout(_.wrapAsync(function(){delete _.__dr}),0)}})});