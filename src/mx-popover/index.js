define("mx-popover/index",["magix","$"],(e,t,_)=>{let o=e("magix"),d=e("$");o.applyStyle("_C","._en{border-radius:4px;padding:0;-webkit-box-shadow:0 6px 8px rgba(51,51,51,.08);box-shadow:0 6px 8px rgba(51,51,51,.08);position:absolute;border:1px solid rgba(0,0,0,.1);display:none;max-width:276px;background-color:#fff}._eo{line-height:22px;padding:9px 14px}");let i;_.exports=o.View.extend({tmpl:{html:'<div class="_eo"><%!$$.content%></div>',subs:[]},init(e){let t=this;t.__I=e.placement||"right",t.__J=e.align,t.__dG=e.content||"",t.__cX=0|e.width,t.on("destroy",()=>{t.__h.off("mouseenter mouseleave"),t.__dK&&t.__dK.off("mouseenter mouseleave").remove()})},render(){let e=this;e.endUpdate();let t=d("#"+e.id);e.__h=t,t.hover(()=>{e.__dL(),e.__dM=setTimeout(e.wrapAsync(()=>{e.__e()}),100)},()=>{clearTimeout(e.__dM),e.__a()})},__dL(){let e=this;if(!e.__dK){let t="popover_"+e.id;e.__h.after('<div class="_en" id="'+t+'" />'),e.updater.to(t),e.updater.digest({content:e.__dG}),e.__dK=d("#"+t),e.__cX&&e.__dK.css({"max-width":e.__cX,width:e.__cX}),e.__dK.hover(()=>{clearTimeout(e.__dM)},()=>{e.__a()})}},content(e){let t=this;if(!e)return t.__dG;t.__dK?(t.__dG=e,t.updater.digest({content:e})):t.__dG=e},__e(){let e=this;i&&i!=e&&i.__dN(),i=e,clearTimeout(e.__dM);let t=e.__dK,_=e.__h,o=_.offset(),d=_.outerWidth(),s=_.outerHeight();t.css({display:"block"});let a,r,l=t.outerWidth(),p=t.outerHeight();switch(e.__I){case"top":a=o.left-(l-d)/2,r=o.top-p-10;break;case"right":a=o.left+d+10,r=o.top-(p-s)/2;break;case"bottom":a=o.left-(l-d)/2,r=o.top+s+10;break;case"left":a=o.left-l-10,r=o.top-(p-s)/2}switch(e.__J){case"top":r=o.top;break;case"left":a=o.left;break;case"right":a=o.left-l+d;break;case"bottom":r=o.top-p+s}t.offset({left:a,top:r})},__a(){let e=this;clearTimeout(e.__dM),e.__dM=setTimeout(e.wrapAsync(()=>{e.__dK.css({display:"none"})}),50)},__dN(){clearTimeout(this.__dM),this.__dK.css({display:"none"})}})});