define("mx-popover/index",["magix","$"],function(t,e,_){var o=t("magix"),i=t("$");o.applyStyle("B",".ex{border-radius:4px;padding:0;-webkit-box-shadow:0 6px 8px rgba(51,51,51,.08);box-shadow:0 6px 8px rgba(51,51,51,.08);position:absolute;border:1px solid rgba(0,0,0,.1);display:none;max-width:276px;background-color:#fff}.ey{line-height:22px;padding:9px 14px}");var a;_.exports=o.View.extend({tmpl:{html:'<div class="ey"><%!$$.content%></div>',subs:[]},init:function(t){var e=this;e.__I=t.placement||"right",e.__J=t.align,e.__dw=t.content||"",e.__at=0|t.width,e.on("destroy",function(){e.__h.off("mouseenter mouseleave"),e.__dA&&e.__dA.off("mouseenter mouseleave").remove()})},render:function(){var t=this;t.endUpdate();var e=i("#"+t.id);t.__h=e,e.hover(function(){t.__dB(),t.__dC=setTimeout(t.wrapAsync(function(){t.__e()}),100)},function(){clearTimeout(t.__dC),t.__a()})},__dB:function(){var t=this;if(!t.__dA){var e="popover_"+t.id;t.__h.after('<div class="ex" id="'+e+'" />'),t.updater.to(e),t.updater.digest({content:t.__dw}),t.__dA=i("#"+e),t.__at&&t.__dA.css({"max-width":t.__at,width:t.__at}),t.__dA.hover(function(){clearTimeout(t.__dC)},function(){t.__a()})}},content:function(t){var e=this;if(!t)return e.__dw;e.__dA?(e.__dw=t,e.updater.digest({content:t})):e.__dw=t},__e:function(){var t=this;a&&a!=t&&a.__dD(),a=t,clearTimeout(t.__dC);var e=t.__dA,_=t.__h,o=_.offset(),i=_.outerWidth(),d=_.outerHeight();e.css({display:"block"});var n,r,s=e.outerWidth(),c=e.outerHeight();switch(t.__I){case"top":n=o.left-(s-i)/2,r=o.top-c-10;break;case"right":n=o.left+i+10,r=o.top-(c-d)/2;break;case"bottom":n=o.left-(s-i)/2,r=o.top+d+10;break;case"left":n=o.left-s-10,r=o.top-(c-d)/2}switch(t.__J){case"top":r=o.top;break;case"left":n=o.left;break;case"right":n=o.left-s+i;break;case"bottom":r=o.top-c+d}e.offset({left:n,top:r})},__a:function(){var t=this;clearTimeout(t.__dC),t.__dC=setTimeout(t.wrapAsync(function(){t.__dA.css({display:"none"})}),50)},__dD:function(){var t=this;clearTimeout(t.__dC),t.__dA.css({display:"none"})}})});